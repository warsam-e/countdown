import{aC as dt,aD as Dt,g as Ot}from"./0W_E17_u.js";function lt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var me={exports:{}},Rt=me.exports,ke;function xt(){return ke||(ke=1,function(r,e){(function(t,n){r.exports=n()})(Rt,function(){var t="month",n="quarter";return function(s,i){var a=i.prototype;a.quarter=function(c){return this.$utils().u(c)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(c-1))};var o=a.add;a.add=function(c,y){return c=Number(c),this.$utils().p(y)===n?this.add(3*c,t):o.bind(this)(c,y)};var u=a.startOf;a.startOf=function(c,y){var $=this.$utils(),M=!!$.u(y)||y;if($.p(c)===n){var S=this.quarter()-1;return M?this.month(3*S).startOf(t).startOf("day"):this.month(3*S+2).endOf(t).endOf("day")}return u.bind(this)(c,y)}}})}(me)),me.exports}var Mt=xt();const Nt=lt(Mt);var ge={exports:{}},St=ge.exports,ze;function _t(){return ze||(ze=1,function(r,e){(function(t,n){r.exports=n()})(St,function(){var t=1e3,n=6e4,s=36e5,i="millisecond",a="second",o="minute",u="hour",c="day",y="week",$="month",M="quarter",S="year",N="date",te="Invalid Date",ue=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Re=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,de={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var l=["th","st","nd","rd"],d=m%100;return"["+m+(l[(d-20)%10]||l[d]||l[0])+"]"}},B=function(m,l,d){var h=String(m);return!h||h.length>=l?m:""+Array(l+1-h.length).join(d)+m},le={s:B,z:function(m){var l=-m.utcOffset(),d=Math.abs(l),h=Math.floor(d/60),f=d%60;return(l<=0?"+":"-")+B(h,2,"0")+":"+B(f,2,"0")},m:function m(l,d){if(l.date()<d.date())return-m(d,l);var h=12*(d.year()-l.year())+(d.month()-l.month()),f=l.clone().add(h,$),g=d-f<0,T=l.clone().add(h+(g?-1:1),$);return+(-(h+(d-f)/(g?f-T:T-f))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:$,y:S,w:y,d:c,D:N,h:u,m:o,s:a,ms:i,Q:M}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},V="en",O={};O[V]=de;var I="$isDayjsObject",F=function(m){return m instanceof v||!(!m||!m[I])},z=function m(l,d,h){var f;if(!l)return V;if(typeof l=="string"){var g=l.toLowerCase();O[g]&&(f=g),d&&(O[g]=d,f=g);var T=l.split("-");if(!f&&T.length>1)return m(T[0])}else{var A=l.name;O[A]=l,f=A}return!h&&f&&(V=f),f||!h&&V},E=function(m,l){if(F(m))return m.clone();var d=typeof l=="object"?l:{};return d.date=m,d.args=arguments,new v(d)},p=le;p.l=z,p.i=F,p.w=function(m,l){return E(m,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var v=function(){function m(d){this.$L=z(d.locale,null,!0),this.parse(d),this.$x=this.$x||d.x||{},this[I]=!0}var l=m.prototype;return l.parse=function(d){this.$d=function(h){var f=h.date,g=h.utc;if(f===null)return new Date(NaN);if(p.u(f))return new Date;if(f instanceof Date)return new Date(f);if(typeof f=="string"&&!/Z$/i.test(f)){var T=f.match(ue);if(T){var A=T[2]-1||0,R=(T[7]||"0").substring(0,3);return g?new Date(Date.UTC(T[1],A,T[3]||1,T[4]||0,T[5]||0,T[6]||0,R)):new Date(T[1],A,T[3]||1,T[4]||0,T[5]||0,T[6]||0,R)}}return new Date(f)}(d),this.init()},l.init=function(){var d=this.$d;this.$y=d.getFullYear(),this.$M=d.getMonth(),this.$D=d.getDate(),this.$W=d.getDay(),this.$H=d.getHours(),this.$m=d.getMinutes(),this.$s=d.getSeconds(),this.$ms=d.getMilliseconds()},l.$utils=function(){return p},l.isValid=function(){return this.$d.toString()!==te},l.isSame=function(d,h){var f=E(d);return this.startOf(h)<=f&&f<=this.endOf(h)},l.isAfter=function(d,h){return E(d)<this.startOf(h)},l.isBefore=function(d,h){return this.endOf(h)<E(d)},l.$g=function(d,h,f){return p.u(d)?this[h]:this.set(f,d)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(d,h){var f=this,g=!!p.u(h)||h,T=p.p(d),A=function(Z,C){var G=p.w(f.$u?Date.UTC(f.$y,C,Z):new Date(f.$y,C,Z),f);return g?G:G.endOf(c)},R=function(Z,C){return p.w(f.toDate()[Z].apply(f.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(C)),f)},x=this.$W,_=this.$M,W=this.$D,K="set"+(this.$u?"UTC":"");switch(T){case S:return g?A(1,0):A(31,11);case $:return g?A(1,_):A(0,_+1);case y:var j=this.$locale().weekStart||0,re=(x<j?x+7:x)-j;return A(g?W-re:W+(6-re),_);case c:case N:return R(K+"Hours",0);case u:return R(K+"Minutes",1);case o:return R(K+"Seconds",2);case a:return R(K+"Milliseconds",3);default:return this.clone()}},l.endOf=function(d){return this.startOf(d,!1)},l.$set=function(d,h){var f,g=p.p(d),T="set"+(this.$u?"UTC":""),A=(f={},f[c]=T+"Date",f[N]=T+"Date",f[$]=T+"Month",f[S]=T+"FullYear",f[u]=T+"Hours",f[o]=T+"Minutes",f[a]=T+"Seconds",f[i]=T+"Milliseconds",f)[g],R=g===c?this.$D+(h-this.$W):h;if(g===$||g===S){var x=this.clone().set(N,1);x.$d[A](R),x.init(),this.$d=x.set(N,Math.min(this.$D,x.daysInMonth())).$d}else A&&this.$d[A](R);return this.init(),this},l.set=function(d,h){return this.clone().$set(d,h)},l.get=function(d){return this[p.p(d)]()},l.add=function(d,h){var f,g=this;d=Number(d);var T=p.p(h),A=function(_){var W=E(g);return p.w(W.date(W.date()+Math.round(_*d)),g)};if(T===$)return this.set($,this.$M+d);if(T===S)return this.set(S,this.$y+d);if(T===c)return A(1);if(T===y)return A(7);var R=(f={},f[o]=n,f[u]=s,f[a]=t,f)[T]||1,x=this.$d.getTime()+d*R;return p.w(x,this)},l.subtract=function(d,h){return this.add(-1*d,h)},l.format=function(d){var h=this,f=this.$locale();if(!this.isValid())return f.invalidDate||te;var g=d||"YYYY-MM-DDTHH:mm:ssZ",T=p.z(this),A=this.$H,R=this.$m,x=this.$M,_=f.weekdays,W=f.months,K=f.meridiem,j=function(C,G,se,fe){return C&&(C[G]||C(h,g))||se[G].slice(0,fe)},re=function(C){return p.s(A%12||12,C,"0")},Z=K||function(C,G,se){var fe=C<12?"AM":"PM";return se?fe.toLowerCase():fe};return g.replace(Re,function(C,G){return G||function(se){switch(se){case"YY":return String(h.$y).slice(-2);case"YYYY":return p.s(h.$y,4,"0");case"M":return x+1;case"MM":return p.s(x+1,2,"0");case"MMM":return j(f.monthsShort,x,W,3);case"MMMM":return j(W,x);case"D":return h.$D;case"DD":return p.s(h.$D,2,"0");case"d":return String(h.$W);case"dd":return j(f.weekdaysMin,h.$W,_,2);case"ddd":return j(f.weekdaysShort,h.$W,_,3);case"dddd":return _[h.$W];case"H":return String(A);case"HH":return p.s(A,2,"0");case"h":return re(1);case"hh":return re(2);case"a":return Z(A,R,!0);case"A":return Z(A,R,!1);case"m":return String(R);case"mm":return p.s(R,2,"0");case"s":return String(h.$s);case"ss":return p.s(h.$s,2,"0");case"SSS":return p.s(h.$ms,3,"0");case"Z":return T}return null}(C)||T.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(d,h,f){var g,T=this,A=p.p(h),R=E(d),x=(R.utcOffset()-this.utcOffset())*n,_=this-R,W=function(){return p.m(T,R)};switch(A){case S:g=W()/12;break;case $:g=W();break;case M:g=W()/3;break;case y:g=(_-x)/6048e5;break;case c:g=(_-x)/864e5;break;case u:g=_/s;break;case o:g=_/n;break;case a:g=_/t;break;default:g=_}return f?g:p.a(g)},l.daysInMonth=function(){return this.endOf($).$D},l.$locale=function(){return O[this.$L]},l.locale=function(d,h){if(!d)return this.$L;var f=this.clone(),g=z(d,h,!0);return g&&(f.$L=g),f},l.clone=function(){return p.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},m}(),ne=v.prototype;return E.prototype=ne,[["$ms",i],["$s",a],["$m",o],["$H",u],["$W",c],["$M",$],["$y",S],["$D",N]].forEach(function(m){ne[m[1]]=function(l){return this.$g(l,m[0],m[1])}}),E.extend=function(m,l){return m.$i||(m(l,v,E),m.$i=!0),E},E.locale=z,E.isDayjs=F,E.unix=function(m){return E(1e3*m)},E.en=O[V],E.Ls=O,E.p={},E})}(ge)),ge.exports}var Ct=_t();const U=lt(Ct);var w;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(w||(w={}));var D;(function(r){r[r.SUNDAY=0]="SUNDAY",r[r.MONDAY=1]="MONDAY",r[r.TUESDAY=2]="TUESDAY",r[r.WEDNESDAY=3]="WEDNESDAY",r[r.THURSDAY=4]="THURSDAY",r[r.FRIDAY=5]="FRIDAY",r[r.SATURDAY=6]="SATURDAY"})(D||(D={}));var Y;(function(r){r[r.JANUARY=1]="JANUARY",r[r.FEBRUARY=2]="FEBRUARY",r[r.MARCH=3]="MARCH",r[r.APRIL=4]="APRIL",r[r.MAY=5]="MAY",r[r.JUNE=6]="JUNE",r[r.JULY=7]="JULY",r[r.AUGUST=8]="AUGUST",r[r.SEPTEMBER=9]="SEPTEMBER",r[r.OCTOBER=10]="OCTOBER",r[r.NOVEMBER=11]="NOVEMBER",r[r.DECEMBER=12]="DECEMBER"})(Y||(Y={}));function Ut(r,e){e=e.add(1,"day"),ct(r,e),we(r,e)}function q(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}function ft(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",w.AM):r.assign("meridiem",w.PM)}function ct(r,e){r.imply("day",e.date()),r.imply("month",e.month()+1),r.imply("year",e.year())}function we(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}const bt={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:r=>Be(r,Y.MARCH,D.SUNDAY,2),dstEnd:r=>Be(r,Y.OCTOBER,D.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:r=>L(r,Y.MARCH,D.SUNDAY,2,2),dstEnd:r=>L(r,Y.NOVEMBER,D.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:r=>L(r,Y.MARCH,D.SUNDAY,2,2),dstEnd:r=>L(r,Y.NOVEMBER,D.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:r=>L(r,Y.MARCH,D.SUNDAY,2,2),dstEnd:r=>L(r,Y.NOVEMBER,D.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:r=>L(r,Y.MARCH,D.SUNDAY,2,2),dstEnd:r=>L(r,Y.NOVEMBER,D.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function L(r,e,t,n,s=0){let i=0,a=0;for(;a<n;)i++,new Date(r,e-1,i).getDay()===t&&a++;return new Date(r,e-1,i,s)}function Be(r,e,t,n=0){const s=t===0?7:t,i=new Date(r,e-1+1,1,12),a=i.getDay()===0?7:i.getDay();let o;return a===s?o=7:a<s?o=7+a-s:o=a-s,i.setDate(i.getDate()-o),new Date(r,e-1,i.getDate(),n)}function ht(r,e,t={}){if(r==null)return null;if(typeof r=="number")return r;const n=t[r]??bt[r];return n==null?null:typeof n=="number"?n:e==null?null:U(e).isAfter(n.dstStart(e.getFullYear()))&&!U(e).isAfter(n.dstEnd(e.getFullYear()))?n.timezoneOffsetDuringDst:n.timezoneOffsetNonDst}U.extend(Nt);class ve{constructor(e){e=e??new Date,e instanceof Date?(this.instant=e,this.timezoneOffset=null):(this.instant=e.instant??new Date,this.timezoneOffset=ht(e.timezone,this.instant))}getDateWithAdjustedTimezone(){const e=new Date(this.instant);return this.timezoneOffset!==null&&e.setMinutes(e.getMinutes()-this.getSystemTimezoneAdjustmentMinute(this.instant)),e}getSystemTimezoneAdjustmentMinute(e,t){(!e||e.getTime()<0)&&(e=new Date);const n=-e.getTimezoneOffset(),s=t??this.timezoneOffset??n;return n-s}getTimezoneOffset(){return this.timezoneOffset??-this.instant.getTimezoneOffset()}}class P{constructor(e,t){if(this._tags=new Set,this.reference=e,this.knownValues={},this.impliedValues={},t)for(const s in t)this.knownValues[s]=t[s];const n=e.getDateWithAdjustedTimezone();this.imply("day",n.getDate()),this.imply("month",n.getMonth()+1),this.imply("year",n.getFullYear()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new P(this.reference);e.knownValues={},e.impliedValues={};for(const t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(const t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")&&!this.isCertain("year")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {
            tags: ${JSON.stringify(Array.from(this._tags).sort())}, 
            knownValues: ${JSON.stringify(this.knownValues)}, 
            impliedValues: ${JSON.stringify(this.impliedValues)}}, 
            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return U(this.dateWithoutTimezoneAdjustment())}date(){const e=this.dateWithoutTimezoneAdjustment(),t=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+t*6e4)}addTag(e){return this._tags.add(e),this}addTags(e){for(const t of e)this._tags.add(t);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,t){let n=U(e.getDateWithAdjustedTimezone());for(const i in t)n=n.add(t[i],i);const s=new P(e);return s.addTag("result/relativeDate"),t.hour||t.minute||t.second?(s.addTag("result/relativeDateAndTime"),ft(s,n),q(s,n),s.assign("timezoneOffset",e.getTimezoneOffset())):(we(s,n),s.imply("timezoneOffset",e.getTimezoneOffset()),t.d?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year())):t.week?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year()),s.imply("weekday",n.day())):(s.imply("day",n.date()),t.month?(s.assign("month",n.month()+1),s.assign("year",n.year())):(s.imply("month",n.month()+1),t.year?s.assign("year",n.year()):s.imply("year",n.year())))),s}}class Q{constructor(e,t,n,s,i){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=s||new P(e),this.end=i}clone(){const e=new Q(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}addTag(e){return this.start.addTag(e),this.end&&this.end.addTag(e),this}addTags(e){return this.start.addTags(e),this.end&&this.end.addTags(e),this}tags(){const e=new Set(this.start.tags());if(this.end)for(const t of this.end.tags())e.add(t);return e}toString(){const e=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(e)} ...}]`}}function mt(r,e,t="\\s{0,5},?\\s{0,5}"){const n=e.replace(/\((?!\?)/g,"(?:");return`${r}${n}(?:${t}${n}){0,10}`}function It(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}function k(r){return`(?:${It(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}function gt(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}function Ee(r,e,t){const n=U(r);let s=n;s=s.month(t-1),s=s.date(e),s=s.year(n.year());const i=s.add(1,"y"),a=s.add(-1,"y");return Math.abs(i.diff(n))<Math.abs(s.diff(n))?s=i:Math.abs(a.diff(n))<Math.abs(s.diff(n))&&(s=a),s.year()}const Ce={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},Tt={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},H={...Tt,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},Ue={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},be={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},yt={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},$e={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...yt},pt=`(?:${k(Ue)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function vt(r){const e=r.toLowerCase();return Ue[e]!==void 0?Ue[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}const ye=`(?:${k(be)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function pe(r){let e=r.toLowerCase();return be[e]!==void 0?be[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}const Ae="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function Pe(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);const e=parseInt(r);return gt(e)}const wt=`(${pt})\\s{0,3}(${k($e)})`,Ge=new RegExp(wt,"i"),Wt=`(${pt})\\s{0,3}(${k(yt)})`,Et="\\s{0,5},?(?:\\s*and)?\\s{0,5}",ae=mt("(?:(?:about|around)\\s{0,3})?",wt,Et),De=mt("(?:(?:about|around)\\s{0,3})?",Wt,Et);function ee(r){const e={};let t=r,n=Ge.exec(t);for(;n;)Yt(e,n),t=t.substring(n[0].length).trim(),n=Ge.exec(t);return Object.keys(e).length==0?null:e}function Yt(r,e){if(e[0].match(/^[a-zA-Z]+$/))return;const t=vt(e[1]),n=$e[e[2].toLowerCase()];r[n]=t}class b{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(e,t){return this.innerPattern(e)!==t}patternLeftBoundary(){return"(\\W|^)"}pattern(e){return this.cachedInnerPattern&&!this.innerPatternHasChange(e,this.cachedInnerPattern)?this.cachedPattern:(this.cachedInnerPattern=this.innerPattern(e),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags),this.cachedPattern)}extract(e,t){const n=t[1]??"";t.index=t.index+n.length,t[0]=t[0].substring(n.length);for(let s=2;s<t.length;s++)t[s-1]=t[s];return this.innerExtract(e,t)}}const Ft=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ae})(?=\\W|$)`,"i"),kt=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ae})(?=\\W|$)`,"i"),zt=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${De})(?=\\W|$)`,"i");class Bt extends b{constructor(e){super(),this.strictMode=e}innerPattern(e){return this.strictMode?zt:e.option.forwardDate?Ft:kt}innerExtract(e,t){if(t[0].match(/^for\s*the\s*\w+/))return null;const n=ee(t[1]);return n?P.createRelativeFromReference(e.reference,n):null}}const Gt=new RegExp(`(?:on\\s{0,3})?(${ye})(?:\\s{0,3}(?:to|\\-|\\–|until|through|till)?\\s{0,3}(${ye}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${k(H)})(?:(?:-|/|,?\\s{0,3})(${Ae}(?!\\w)))?(?=\\W|$)`,"i"),Le=1,He=2,Lt=3,Ve=4;class Ht extends b{innerPattern(){return Gt}innerExtract(e,t){const n=e.createParsingResult(t.index,t[0]),s=H[t[Lt].toLowerCase()],i=pe(t[Le]);if(i>31)return t.index=t.index+t[Le].length,null;if(n.start.assign("month",s),n.start.assign("day",i),t[Ve]){const a=Pe(t[Ve]);n.start.assign("year",a)}else{const a=Ee(e.refDate,i,s);n.start.imply("year",a)}if(t[He]){const a=pe(t[He]);n.end=n.start.clone(),n.end.assign("day",a)}return n}}const Vt=new RegExp(`(${k(H)})(?:-|/|\\s*,?\\s*)(${ye})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${ye})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${Ae}))?(?=\\W|$)(?!\\:\\d)`,"i"),jt=1,je=2,xe=3,Me=4;class Zt extends b{constructor(e){super(),this.shouldSkipYearLikeDate=e}innerPattern(){return Vt}innerExtract(e,t){const n=H[t[jt].toLowerCase()],s=pe(t[je]);if(s>31||this.shouldSkipYearLikeDate&&!t[xe]&&!t[Me]&&t[je].match(/^2[0-5]$/))return null;const i=e.createParsingComponents({day:s,month:n}).addTag("parser/ENMonthNameMiddleEndianParser");if(t[Me]){const u=Pe(t[Me]);i.assign("year",u)}else{const u=Ee(e.refDate,s,n);i.imply("year",u)}if(!t[xe])return i;const a=pe(t[xe]),o=e.createParsingResult(t.index,t[0]);return o.start=i,o.end=i.clone(),o.end.assign("day",a),o}}const qt=new RegExp(`((?:in)\\s*)?(${k(H)})\\s*(?:(?:,|-|of)?\\s*(${Ae})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),Kt=1,Jt=2,Ze=3;class Xt extends b{innerPattern(){return qt}innerExtract(e,t){const n=t[Jt].toLowerCase();if(t[0].length<=3&&!Tt[n])return null;const s=e.createParsingResult(t.index+(t[Kt]||"").length,t.index+t[0].length);s.start.imply("day",1),s.start.addTag("parser/ENMonthNameParser");const i=H[n];if(s.start.assign("month",i),t[Ze]){const a=Pe(t[Ze]);s.start.assign("year",a)}else{const a=Ee(e.refDate,1,i);s.start.imply("year",a)}return s}}const Qt=new RegExp(`([0-9]{4})[-\\.\\/\\s](?:(${k(H)})|([0-9]{1,2}))[-\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),en=1,tn=2,qe=3,nn=4;class rn extends b{constructor(e){super(),this.strictMonthDateOrder=e}innerPattern(){return Qt}innerExtract(e,t){const n=parseInt(t[en]);let s=parseInt(t[nn]),i=t[qe]?parseInt(t[qe]):H[t[tn].toLowerCase()];if(i<1||i>12){if(this.strictMonthDateOrder)return null;s>=1&&s<=12&&([i,s]=[s,i])}return s<1||s>31?null:{day:s,month:i,year:n}}}const sn=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),an=1,on=2;class un extends b{innerPattern(){return sn}innerExtract(e,t){const n=parseInt(t[on]),s=parseInt(t[an]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}}function dn(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|：)(\\d{1,2})(?:(?::|：)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function ln(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}const Ke=2,J=3,ce=4,he=5,ie=6;class fn{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){const n=this.extractPrimaryTimeComponents(e,t);if(!n)return t[0].match(/^\d{4}/)?(t.index+=4,null):(t.index+=t[0].length,null);const s=t.index+t[1].length,i=t[0].substring(t[1].length),a=e.createParsingResult(s,i,n);t.index+=t[0].length;const o=e.text.substring(t.index),c=this.getFollowingTimePatternThroughCache().exec(o);return i.match(/^\d{3,4}/)&&c&&(c[0].match(/^\s*([+-])\s*\d{2,4}$/)||c[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))?null:!c||c[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,c,a),a.end&&(a.text+=c[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,n=!1){const s=e.createParsingComponents();let i=0,a=null,o=parseInt(t[Ke]);if(o>100){if(this.strictMode||t[J]!=null)return null;i=o%100,o=Math.floor(o/100)}if(o>24)return null;if(t[J]!=null){if(t[J].length==1&&!t[ie])return null;i=parseInt(t[J])}if(i>=60)return null;if(o>12&&(a=w.PM),t[ie]!=null){if(o>12)return null;const u=t[ie][0].toLowerCase();u=="a"&&(a=w.AM,o==12&&(o=0)),u=="p"&&(a=w.PM,o!=12&&(o+=12))}if(s.assign("hour",o),s.assign("minute",i),a!==null?s.assign("meridiem",a):o<12?s.imply("meridiem",w.AM):s.imply("meridiem",w.PM),t[he]!=null){const u=parseInt(t[he].substring(0,3));if(u>=1e3)return null;s.assign("millisecond",u)}if(t[ce]!=null){const u=parseInt(t[ce]);if(u>=60)return null;s.assign("second",u)}return s}extractFollowingTimeComponents(e,t,n){const s=e.createParsingComponents();if(t[he]!=null){const u=parseInt(t[he].substring(0,3));if(u>=1e3)return null;s.assign("millisecond",u)}if(t[ce]!=null){const u=parseInt(t[ce]);if(u>=60)return null;s.assign("second",u)}let i=parseInt(t[Ke]),a=0,o=-1;if(t[J]!=null?a=parseInt(t[J]):i>100&&(a=i%100,i=Math.floor(i/100)),a>=60||i>24)return null;if(i>=12&&(o=w.PM),t[ie]!=null){if(i>12)return null;const u=t[ie][0].toLowerCase();u=="a"&&(o=w.AM,i==12&&(i=0,s.isCertain("day")||s.imply("day",s.get("day")+1))),u=="p"&&(o=w.PM,i!=12&&(i+=12)),n.start.isCertain("meridiem")||(o==w.AM?(n.start.imply("meridiem",w.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",w.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return s.assign("hour",i),s.assign("minute",a),o>=0?s.assign("meridiem",o):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>i?s.imply("meridiem",w.AM):i<=12&&(s.assign("hour",i+12),s.assign("meridiem",w.PM)):i>12?s.imply("meridiem",w.PM):i<=12&&s.imply("meridiem",w.AM),s.date().getTime()<n.start.date().getTime()&&s.imply("day",s.get("day")+1),s}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){const n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;const n=t[1],s=t[2];if(s.includes(".")&&!s.match(/\d(\.\d{2})+$/))return null;const i=parseInt(s),a=parseInt(n);if(i>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=dn(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=ln(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}}class cn extends fn{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\–|\\~|\\〜|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const n=super.extractPrimaryTimeComponents(e,t);if(!n)return n;if(t[0].endsWith("night")){const s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",w.PM)):s<6&&n.assign("meridiem",w.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",w.PM);const s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}return t[0].endsWith("morning")&&(n.assign("meridiem",w.AM),n.get("hour")<12&&n.assign("hour",n.get("hour"))),n.addTag("parser/ENTimeExpressionParser")}extractFollowingTimeComponents(e,t,n){const s=super.extractFollowingTimeComponents(e,t,n);return s&&s.addTag("parser/ENTimeExpressionParser"),s}}function Oe(r){const e={};for(const t in r)e[t]=-r[t];return e}function hn(r,e){const t=r.clone();let n=r.dayjs();for(const s in e)n=n.add(e[s],s);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}const mn=new RegExp(`(${ae})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),gn=new RegExp(`(${De})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i");class Tn extends b{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?gn:mn}innerExtract(e,t){const n=ee(t[1]);if(!n)return null;const s=Oe(n);return P.createRelativeFromReference(e.reference,s)}}const yn=new RegExp(`(${ae})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),pn=new RegExp(`(${De})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i"),wn=1;class En extends b{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?pn:yn}innerExtract(e,t){const n=ee(t[wn]);return n?P.createRelativeFromReference(e.reference,n):null}}class $t{refine(e,t){return t.filter(n=>this.isValid(e,n))}}class oe{refine(e,t){if(t.length<2)return t;const n=[];let s=t[0],i=null;for(let a=1;a<t.length;a++){i=t[a];const o=e.text.substring(s.index+s.text.length,i.index);if(!this.shouldMergeResults(o,s,i,e))n.push(s),s=i;else{const u=s,c=i,y=this.mergeResults(o,u,c,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${u} and ${c} into ${y}`)}),s=y}}return s!=null&&n.push(s),n}}class $n extends oe{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(i=>{t.start.isCertain(i)||t.start.imply(i,n.start.get(i))}),t.start.getCertainComponents().forEach(i=>{n.start.isCertain(i)||n.start.imply(i,t.start.get(i))})),t.start.date().getTime()>n.start.date().getTime()){let i=t.start.dayjs(),a=n.start.dayjs();n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(i)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):t.start.isOnlyWeekdayComponent()&&i.add(-7,"days").isBefore(a)?(i=i.add(-7,"days"),t.start.imply("day",i.date()),t.start.imply("month",i.month()+1),t.start.imply("year",i.year())):n.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(i)?(a=a.add(1,"years"),n.start.imply("year",a.year())):t.start.isDateWithUnknownYear()&&i.add(-1,"years").isBefore(a)?(i=i.add(-1,"years"),t.start.imply("year",i.year())):[n,t]=[t,n]}const s=t.clone();return s.start=t.start,s.end=n.start,s.index=Math.min(t.index,n.index),t.index<n.index?s.text=t.text+e+n.text:s.text=n.text+e+t.text,s}}class An extends $n{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}}function Je(r,e){const t=r.clone(),n=r.start,s=e.start;if(t.start=Xe(n,s),r.end!=null||e.end!=null){const i=r.end==null?r.start:r.end,a=e.end==null?e.start:e.end,o=Xe(i,a);if(r.end==null&&o.date().getTime()<t.start.date().getTime()){const u=o.dayjs().add(1,"day");o.isCertain("day")?q(o,u):ct(o,u)}t.end=o}return t}function Xe(r,e){const t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==w.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t.addTags(r.tags()),t.addTags(e.tags()),t}class Pn extends oe{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){const s=t.start.isOnlyDate()?Je(t,n):Je(n,t);return s.index=t.index,s.text=t.text+e+n.text,s}}class Qe extends Pn{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|∙|:)?\\s*$")}}const Dn=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i");class On{constructor(e){this.timezoneOverrides=e}refine(e,t){const n=e.option.timezones??{};return t.forEach(s=>{const i=e.text.substring(s.index+s.text.length),a=Dn.exec(i);if(!a)return;const o=a[1].toUpperCase(),u=s.start.date()??s.refDate??new Date,c={...this.timezoneOverrides,...n},y=ht(o,u,c);if(y==null)return;e.debug(()=>{console.log(`Extracting timezone: '${o}' into: ${y} for: ${s.start}`)});const $=s.start.get("timezoneOffset");$!==null&&y!=$&&(s.start.isCertain("timezoneOffset")||o!=a[1])||s.start.isOnlyDate()&&o!=a[1]||(s.text+=a[0],s.start.isCertain("timezoneOffset")||s.start.assign("timezoneOffset",y),s.end!=null&&!s.end.isCertain("timezoneOffset")&&s.end.assign("timezoneOffset",y))}),t}}const Rn=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),xn=1,Mn=2,Nn=3;class Sn{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;const s=e.text.substring(n.index+n.text.length),i=Rn.exec(s);if(!i)return;e.debug(()=>{console.log(`Extracting timezone: '${i[0]}' into : ${n}`)});const a=parseInt(i[Mn]),o=parseInt(i[Nn]||"0");let u=a*60+o;u>14*60||(i[xn]==="-"&&(u=-u),n.end!=null&&n.end.assign("timezoneOffset",u),n.start.assign("timezoneOffset",u),n.text+=i[0])}),t}}class Ie{refine(e,t){if(t.length<2)return t;const n=[];let s=t[0];for(let i=1;i<t.length;i++){const a=t[i];if(a.index>=s.index+s.text.length){n.push(s),s=a;continue}let o=null,u=null;a.text.length>s.text.length?(o=a,u=s):(o=s,u=a),e.debug(()=>{console.log(`${this.constructor.name} remove ${u} by ${o}`)}),s=o}return s!=null&&n.push(s),n}}function Ne(r,e){r.imply("day",e.getDate()),r.imply("month",e.getMonth()+1),r.imply("year",e.getFullYear())}class _n{refine(e,t){return e.option.forwardDate&&t.forEach(n=>{let s=U(e.reference.getDateWithAdjustedTimezone());if(n.start.isOnlyTime()&&e.reference.instant>n.start.date()){const i=e.reference.getDateWithAdjustedTimezone(),a=new Date(i);a.setDate(a.getDate()+1),Ne(n.start,a),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} time from the ref date (${i}) to the following day (${a})`)}),n.end&&n.end.isOnlyTime()&&(Ne(n.end,a),n.start.date()>n.end.date()&&(a.setDate(a.getDate()+1),Ne(n.end,a)))}if(n.start.isOnlyWeekdayComponent()&&s.isAfter(n.start.dayjs())&&(s.day()>=n.start.get("weekday")?s=s.day(n.start.get("weekday")+7):s=s.day(n.start.get("weekday")),n.start.imply("day",s.date()),n.start.imply("month",s.month()+1),n.start.imply("year",s.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(s.day()>n.end.get("weekday")?s=s.day(n.end.get("weekday")+7):s=s.day(n.end.get("weekday")),n.end.imply("day",s.date()),n.end.imply("month",s.month()+1),n.end.imply("year",s.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.end})`)}))),n.start.isDateWithUnknownYear()&&s.isAfter(n.start.dayjs()))for(let i=0;i<3&&s.isAfter(n.start.dayjs());i++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} year (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} month (${n.start})`)}))}),t}}class Cn extends $t{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}}const Un=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),bn=1,In=2,vn=3,et=4,Wn=5,tt=6,nt=7,Yn=8,rt=9,st=10;class Fn extends b{innerPattern(){return Un}innerExtract(e,t){const n=e.createParsingComponents({year:parseInt(t[bn]),month:parseInt(t[In]),day:parseInt(t[vn])});if(t[et]!=null&&(n.assign("hour",parseInt(t[et])),n.assign("minute",parseInt(t[Wn])),t[tt]!=null&&n.assign("second",parseInt(t[tt])),t[nt]!=null&&n.assign("millisecond",parseInt(t[nt])),t[Yn]!=null)){let s=0;if(t[rt]){const i=parseInt(t[rt]);let a=0;t[st]!=null&&(a=parseInt(t[st])),s=i*60,s<0?s-=a:s+=a}n.assign("timezoneOffset",s)}return n.addTag("parser/ISOFormatParser")}}class kn extends oe{mergeResults(e,t,n){const s=n.clone();return s.index=t.index,s.text=t.text+e+s.text,s.start.assign("weekday",t.start.get("weekday")),s.end&&s.end.assign("weekday",t.start.get("weekday")),s}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}}function zn(r,e=!1){return r.parsers.unshift(new Fn),r.refiners.unshift(new kn),r.refiners.unshift(new Sn),r.refiners.unshift(new Ie),r.refiners.push(new On),r.refiners.push(new Ie),r.refiners.push(new _n),r.refiners.push(new Cn(e)),r}function Bn(r){const e=U(r.getDateWithAdjustedTimezone()),t=new P(r,{});return q(t,e),ft(t,e),t.assign("timezoneOffset",r.getTimezoneOffset()),t.addTag("casualReference/now"),t}function Gn(r){const e=U(r.getDateWithAdjustedTimezone()),t=new P(r,{});return q(t,e),we(t,e),t.addTag("casualReference/today"),t}function Ln(r){return Hn(r).addTag("casualReference/yesterday")}function Hn(r,e){return We(r,-1)}function Vn(r){return We(r,1).addTag("casualReference/tomorrow")}function We(r,e){let t=U(r.getDateWithAdjustedTimezone());const n=new P(r,{});return t=t.add(e,"day"),q(n,t),we(n,t),n}function jn(r,e=22){const t=U(r.getDateWithAdjustedTimezone()),n=new P(r,{});return q(n,t),n.imply("hour",e),n.imply("meridiem",w.PM),n.addTag("casualReference/tonight"),n}function Zn(r,e=20){const t=new P(r,{});return t.imply("meridiem",w.PM),t.imply("hour",e),t.addTag("casualReference/evening"),t}function qn(r){const e=new P(r,{}),t=U(r.getDateWithAdjustedTimezone());return t.hour()>2&&Ut(e,t),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/midnight"),e}function Kn(r,e=6){const t=new P(r,{});return t.imply("meridiem",w.AM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/morning"),t}function Jn(r,e=15){const t=new P(r,{});return t.imply("meridiem",w.PM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/afternoon"),t}function Xn(r){const e=new P(r,{});return e.imply("meridiem",w.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/noon"),e}const Qn=/(now|today|tonight|tomorrow|overmorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i;class er extends b{innerPattern(e){return Qn}innerExtract(e,t){let n=U(e.refDate);const s=t[0].toLowerCase();let i=e.createParsingComponents();switch(s){case"now":i=Bn(e.reference);break;case"today":i=Gn(e.reference);break;case"yesterday":i=Ln(e.reference);break;case"tomorrow":case"tmr":case"tmrw":i=Vn(e.reference);break;case"tonight":i=jn(e.reference);break;case"overmorrow":i=We(e.reference,2);break;default:s.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),q(i,n),i.imply("hour",0));break}return i.addTag("parser/ENCasualDateParser"),i}}const tr=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i;class nr extends b{innerPattern(){return tr}innerExtract(e,t){let n=null;switch(t[1].toLowerCase()){case"afternoon":n=Jn(e.reference);break;case"evening":case"night":n=Zn(e.reference);break;case"midnight":n=qn(e.reference);break;case"morning":n=Kn(e.reference);break;case"noon":case"midday":n=Xn(e.reference);break}return n&&n.addTag("parser/ENCasualTimeParser"),n}}function rr(r,e,t){const n=r.getDateWithAdjustedTimezone(),s=sr(n,e,t);let i=new P(r);return i=hn(i,{day:s}),i.assign("weekday",e),i}function sr(r,e,t){const n=r.getDay();switch(t){case"this":return Te(r,e);case"last":return At(r,e);case"next":return n==D.SUNDAY?e==D.SUNDAY?7:e:n==D.SATURDAY?e==D.SATURDAY?7:e==D.SUNDAY?8:1+e:e<n&&e!=D.SUNDAY?Te(r,e):Te(r,e)+7}return ir(r,e)}function ir(r,e){const t=At(r,e),n=Te(r,e);return n<-t?n:t}function Te(r,e){const t=r.getDay();let n=e-t;return n<0&&(n+=7),n}function At(r,e){const t=r.getDay();let n=e-t;return n>=0&&(n-=7),n}const ar=new RegExp(`(?:(?:\\,|\\(|\\（)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${k(Ce)}|weekend|weekday)(?:\\s*(?:\\,|\\)|\\）))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),or=1,ur=2,dr=3;class lr extends b{innerPattern(){return ar}innerExtract(e,t){const n=t[or],s=t[dr];let i=n||s;i=i||"",i=i.toLowerCase();let a=null;i=="last"||i=="past"?a="last":i=="next"?a="next":i=="this"&&(a="this");const o=t[ur].toLowerCase();let u;if(Ce[o]!==void 0)u=Ce[o];else if(o=="weekend")u=a=="last"?D.SUNDAY:D.SATURDAY;else if(o=="weekday"){const c=e.reference.getDateWithAdjustedTimezone().getDay();c==D.SUNDAY||c==D.SATURDAY?u=a=="last"?D.FRIDAY:D.MONDAY:(u=c-1,u=a=="last"?u-1:u+1,u=u%5+1)}else return null;return rr(e.reference,u,a)}}const fr=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${k($e)})(?=\\s*)(?=\\W|$)`,"i"),cr=1,hr=2;class mr extends b{innerPattern(){return fr}innerExtract(e,t){const n=t[cr].toLowerCase(),s=t[hr].toLowerCase(),i=$e[s];if(n=="next"||n.startsWith("after")){const u={};return u[i]=1,P.createRelativeFromReference(e.reference,u)}if(n=="last"||n=="past"){const u={};return u[i]=-1,P.createRelativeFromReference(e.reference,u)}const a=e.createParsingComponents();let o=U(e.reference.instant);return s.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):s.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):s.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}}const gr=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Tr=1,yr=5,it=2,at=3,Se=4;class pr{constructor(e){this.groupNumberMonth=e?at:it,this.groupNumberDay=e?it:at}pattern(){return gr}extract(e,t){const n=t.index+t[Tr].length,s=t.index+t[0].length-t[yr].length;if(n>0&&e.text.substring(0,n).match("\\d/?$")||s<e.text.length&&e.text.substring(s).match("^/?\\d"))return;const i=e.text.substring(n,s);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[Se]&&i.indexOf("/")<0)return;const a=e.createParsingResult(n,i);let o=parseInt(t[this.groupNumberMonth]),u=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(u>=1&&u<=12&&o<=31)[u,o]=[o,u];else return null;if(u<1||u>31)return null;if(a.start.assign("day",u),a.start.assign("month",o),t[Se]){const c=parseInt(t[Se]),y=gt(c);a.start.assign("year",y)}else{const c=Ee(e.refDate,u,o);a.start.imply("year",c)}return a.addTag("parser/SlashDateFormatParser")}}const wr=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${ae})(?=\\W|$)`,"i"),Er=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${De})(?=\\W|$)`,"i");class $r extends b{constructor(e=!0){super(),this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?wr:Er}innerExtract(e,t){const n=t[1].toLowerCase();let s=ee(t[2]);if(!s)return null;switch(n){case"last":case"past":case"-":s=Oe(s);break}return P.createRelativeFromReference(e.reference,s)}}function Ar(r){return r.text.match(/^[+-]/i)!=null}function ot(r){return r.text.match(/^-/i)!=null}class Pr extends oe{shouldMergeResults(e,t,n){return e.match(/^\s*$/i)?Ar(n)||ot(n):!1}mergeResults(e,t,n,s){let i=ee(n.text);ot(n)&&(i=Oe(i));const a=P.createRelativeFromReference(new ve(t.start.date()),i);return new Q(t.reference,t.index,`${t.text}${e}${n.text}`,a)}}function ut(r){return r.text.match(/\s+(before|from)$/i)!=null}function Dr(r){return r.text.match(/\s+(after|since)$/i)!=null}class Or extends oe{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!ut(t)&&!Dr(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let s=ee(t.text);ut(t)&&(s=Oe(s));const i=P.createRelativeFromReference(new ve(n.start.date()),s);return new Q(n.reference,t.index,`${t.text}${e}${n.text}`,i)}}const Rr=new RegExp(`^\\s*(${Ae})`,"i"),xr=1;class Mr{refine(e,t){return t.forEach(function(n){if(!n.start.isDateWithUnknownYear())return;const s=e.text.substring(n.index+n.text.length),i=Rr.exec(s);if(!i)return;e.debug(()=>{console.log(`Extracting year: '${i[0]}' into : ${n}`)});const a=Pe(i[xr]);n.end!=null&&n.end.assign("year",a),n.start.assign("year",a),n.text+=i[0]}),t}}class Nr extends $t{constructor(){super()}isValid(e,t){const n=t.text.trim();return n===e.text.trim()?!0:n.toLowerCase()==="may"&&!e.text.substring(0,t.index).trim().match(/\b(in)$/i)?(e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):n.toLowerCase().endsWith("the second")?(e.text.substring(t.index+t.text.length).trim().length>0&&e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):!0}}class Pt{createCasualConfiguration(e=!1){const t=this.createConfiguration(!1,e);return t.parsers.push(new er),t.parsers.push(new nr),t.parsers.push(new Xt),t.parsers.push(new mr),t.parsers.push(new $r),t.refiners.push(new Nr),t}createConfiguration(e=!0,t=!1){const n=zn({parsers:[new pr(t),new Bt(e),new Ht,new Zt(t),new lr,new un,new cn(e),new Tn(e),new En(e)],refiners:[new Qe]},e);return n.parsers.unshift(new rn(e)),n.refiners.unshift(new Or),n.refiners.unshift(new Pr),n.refiners.unshift(new Ie),n.refiners.push(new Qe),n.refiners.push(new Mr),n.refiners.push(new An),n}}class X{constructor(e){this.defaultConfig=new Pt,e=e||this.defaultConfig.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new X({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){const s=this.parse(e,t,n);return s.length>0?s[0].start.date():null}parse(e,t,n){const s=new Sr(e,t,n);let i=[];return this.parsers.forEach(a=>{const o=X.executeParser(s,a);i=i.concat(o)}),i.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){i=a.refine(s,i)}),i}static executeParser(e,t){const n=[],s=t.pattern(e),i=e.text;let a=e.text,o=s.exec(a);for(;o;){const u=o.index+i.length-a.length;o.index=u;const c=t.extract(e,o);if(!c){a=i.substring(o.index+1),o=s.exec(a);continue}let y=null;c instanceof Q?y=c:c instanceof P?(y=e.createParsingResult(o.index,o[0]),y.start=c):y=e.createParsingResult(o.index,o[0],c);const $=y.index,M=y.text;e.debug(()=>console.log(`${t.constructor.name} extracted (at index=${$}) '${M}'`)),n.push(y),a=i.substring($+M.length),o=s.exec(a)}return n}}class Sr{constructor(e,t,n){this.text=e,this.reference=new ve(t),this.option=n??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof P?e:new P(this.reference,e)}createParsingResult(e,t,n,s){const i=typeof t=="string"?t:this.text.substring(e,t),a=n?this.createParsingComponents(n):null,o=s?this.createParsingComponents(s):null;return new Q(this.reference,e,i,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}const Ye=new Pt,_r=new X(Ye.createCasualConfiguration(!1));new X(Ye.createConfiguration(!0,!1));new X(Ye.createCasualConfiguration(!0));const Cr=_r;function Ur(r,e,t){return Cr.parseDate(r,e,t)}var _e={local:{},session:{}};function br(r){return r==="local"?localStorage:sessionStorage}function Ir(r,e,t){var n,s,i,a,o,u,c,y;t!=null&&t.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const $=(n=t==null?void 0:t.serializer)!=null?n:JSON,M=(s=t==null?void 0:t.storage)!=null?s:"local",S=(i=t==null?void 0:t.syncTabs)!=null?i:!0,N=(o=(a=t==null?void 0:t.onWriteError)!=null?a:t==null?void 0:t.onError)!=null?o:O=>console.error(`Error when writing value from persisted store "${r}" to ${M}`,O),te=(u=t==null?void 0:t.onParseError)!=null?u:(O,I)=>console.error(`Error when parsing ${O?'"'+O+'"':"value"} from persisted store "${r}"`,I),ue=(c=t==null?void 0:t.beforeRead)!=null?c:O=>O,Re=(y=t==null?void 0:t.beforeWrite)!=null?y:O=>O,de=typeof window<"u"&&typeof document<"u",B=de?br(M):null;function le(O,I){const F=Re(I);try{B==null||B.setItem(O,$.stringify(F))}catch(z){N(z)}}function V(){function O(E){try{return $.parse(E)}catch(p){te(E,p)}}const I=B==null?void 0:B.getItem(r);if(I==null)return e;const F=O(I);return F==null?e:ue(F)}if(!_e[M][r]){const O=V(),I=dt(O,E=>{if(de&&M=="local"&&S){const p=v=>{if(v.key===r&&v.newValue){let ne;try{ne=$.parse(v.newValue)}catch(l){te(v.newValue,l);return}const m=ue(ne);E(m)}};return window.addEventListener("storage",p),()=>window.removeEventListener("storage",p)}}),{subscribe:F,set:z}=I;_e[M][r]={set(E){z(E),le(r,E)},update(E){return I.update(p=>{const v=E(p);return le(r,v),v})},reset(){this.set(e)},subscribe:F}}return _e[M][r]}const Fr=dt(0),kr=Dt(new Date,r=>{const e=setInterval(()=>r(new Date),1e3);return()=>clearInterval(e)}),Fe=Ir("items",[],{syncTabs:!0,storage:"local"}),vr=r=>Ot(r),zr=(r,e)=>Ur(r,e);function Br(r,e){const t=r.getTime()-e.getTime();let n=Math.floor(t/1e3);const s=Math.floor(n/60);n%=60;const i=Math.floor(s/60),a=s%60,o=Math.floor(i/24),u=i%24,c=Math.floor(o/7),y=o%7,$=Math.floor(o/30),M=c%4,S=Math.floor(o/365),N=[];return S>0&&N.push(`${S}y`),$>0&&N.push(`${$}mo`),M>0&&N.push(`${M}w`),y>0&&N.push(`${y}d`),u>0&&N.push(`${u}h`),a>0&&N.push(`${a}m`),n>0&&N.push(`${n}s`),N.join(", ")}function Wr(){let r=crypto.randomUUID();for(;vr(Fe).some(e=>e.id===r);)r=crypto.randomUUID();return r}const Gr=r=>Fe.update(e=>[{id:Wr(),...r},...e].toSorted((t,n)=>n.created_at-t.created_at)),Lr=r=>Fe.update(e=>e.filter(t=>t.id!==r));export{Br as a,Gr as b,kr as c,Fe as i,Fr as o,zr as p,Lr as r};
