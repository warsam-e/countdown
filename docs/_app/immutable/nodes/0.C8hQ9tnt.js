import{e as Ee,f as Te,w as Se,l as xe,d as he,c as me,a as F,t as Y,s as H,g as Ie}from"../chunks/DvvG5HrR.js";import{f as Me,E as ge,p as Ce,n as M,aa as Oe,h as P,v as Le,aq as je,ar as Re,as as Fe,at as Pe,au as qe,a3 as se,av as $e,aw as Be,w as Ue,e as be,ax as Ve,ay as Ye,az as ze,aA as De,y as Ke,af as ne,ag as oe,ah as Ge,x as He,J as ae,u as We,a as l,W as q,b as x,K as W,N as ie,O as y,R as A,Q as w,M as J,aB as Je,Y as R}from"../chunks/0W_E17_u.js";import{p as pe,i as Q,b as Qe}from"../chunks/CTHoQl22.js";import{o as ye}from"../chunks/D1bx-1HA.js";import{b as le,a as we,s as Ne}from"../chunks/Dn5njMqI.js";import{o as D,a as Xe,p as Ze,c as et,b as tt}from"../chunks/CfwGEd2j.js";function X(e,t,...a){var r=e,i=M,s;Me(()=>{i!==(i=t())&&(s&&(Oe(s),s=null),s=Ce(()=>i(r,...a)))},ge),P&&(r=Le)}const ve=[...` 	
\r\fÂ \v\uFEFF`];function rt(e,t,a){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),a){for(var i in a)if(a[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,n=0;(n=r.indexOf(i,n))>=0;){var o=n+s;(n===0||ve.includes(r[n-1]))&&(o===r.length||ve.includes(r[o]))?r=(n===0?"":r.substring(0,n))+r.substring(o+1):n=o}}return r===""?null:r}function fe(e,t,a,r,i,s){var n=e.__className;if(P||n!==a||n===void 0){var o=rt(a,r,s);(!P||o!==e.getAttribute("class"))&&(o==null?e.removeAttribute("class"):e.className=o),e.__className=a}else if(s&&i!==s)for(var g in s){var d=!!s[g];(i==null||d!==!!i[g])&&e.classList.toggle(g,d)}return s}const at=Symbol("is custom element"),it=Symbol("is html");function ue(e){if(P){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Z(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Z(e,"checked",null),e.checked=i}}};e.__on_r=a,je(a),Ee()}}function Z(e,t,a,r){var i=st(e);P&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=a)&&(t==="loading"&&(e[Re]=a),a==null?e.removeAttribute(t):typeof a!="string"&&nt(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function st(e){return e.__attributes??(e.__attributes={[at]:e.nodeName.includes("-"),[it]:e.namespaceURI===Fe})}var ce=new Map;function nt(e){var t=ce.get(e.nodeName);if(t)return t;ce.set(e.nodeName,t=[]);for(var a,r=e,i=Element.prototype;i!==r;){a=qe(r);for(var s in a)a[s].set&&t.push(s);r=Pe(r)}return t}const ot=()=>performance.now(),C={tick:e=>requestAnimationFrame(e),now:()=>ot(),tasks:new Set};function ke(){const e=C.now();C.tasks.forEach(t=>{t.c(e)||(C.tasks.delete(t),t.f())}),C.tasks.size!==0&&C.tick(ke)}function lt(e){let t;return C.tasks.size===0&&C.tick(ke),{promise:new Promise(a=>{C.tasks.add(t={c:e,f:a})}),abort(){C.tasks.delete(t)}}}function V(e,t){Se(()=>{e.dispatchEvent(new CustomEvent(t))})}function vt(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function de(e){const t={},a=e.split(";");for(const r of a){const[i,s]=r.split(":");if(!i||s===void 0)break;const n=vt(i.trim());t[n]=s.trim()}return t}const ft=e=>e;function ee(e,t,a,r){var i=(e&Ye)!==0,s=(e&ze)!==0,n=i&&s,o=(e&Ve)!==0,g=n?"both":i?"in":"out",d,c=t.inert,N=t.style.overflow,h,u;function k(){var _=Ge,p=se;ne(null),oe(null);try{return d??(d=a()(t,(r==null?void 0:r())??{},{direction:g}))}finally{ne(_),oe(p)}}var b={is_global:o,in(){var _;if(t.inert=c,!i){u==null||u.abort(),(_=u==null?void 0:u.reset)==null||_.call(u);return}s||h==null||h.abort(),V(t,"introstart"),h=te(t,k(),u,1,()=>{V(t,"introend"),h==null||h.abort(),h=d=void 0,t.style.overflow=N})},out(_){if(!s){_==null||_(),d=void 0;return}t.inert=!0,V(t,"outrostart"),u=te(t,k(),h,0,()=>{V(t,"outroend"),_==null||_()})},stop:()=>{h==null||h.abort(),u==null||u.abort()}},v=se;if((v.transitions??(v.transitions=[])).push(b),i&&Te){var f=o;if(!f){for(var m=v.parent;m&&(m.f&ge)!==0;)for(;(m=m.parent)&&(m.f&$e)===0;);f=!m||(m.f&Be)!==0}f&&Ue(()=>{be(()=>b.in())})}}function te(e,t,a,r,i){var s=r===1;if(De(t)){var n,o=!1;return Ke(()=>{if(!o){var v=t({direction:s?"in":"out"});n=te(e,v,a,r,i)}}),{abort:()=>{o=!0,n==null||n.abort()},deactivate:()=>n.deactivate(),reset:()=>n.reset(),t:()=>n.t()}}if(a==null||a.deactivate(),!(t!=null&&t.duration))return i(),{abort:M,deactivate:M,reset:M,t:()=>r};const{delay:g=0,css:d,tick:c,easing:N=ft}=t;var h=[];if(s&&a===void 0&&(c&&c(0,1),d)){var u=de(d(0,1));h.push(u,u)}var k=()=>1-r,b=e.animate(h,{duration:g});return b.onfinish=()=>{var v=(a==null?void 0:a.t())??1-r;a==null||a.abort();var f=r-v,m=t.duration*Math.abs(f),_=[];if(m>0){var p=!1;if(d)for(var O=Math.ceil(m/16.666666666666668),E=0;E<=O;E+=1){var j=v+f*N(E/O),I=de(d(j,1-j));_.push(I),p||(p=I.overflow==="hidden")}p&&(e.style.overflow="hidden"),k=()=>{var T=b.currentTime;return v+f*N(T/m)},c&&lt(()=>{if(b.playState!=="running")return!1;var T=k();return c(T,1-T),!0})}b=e.animate(_,{duration:m,fill:"forwards"}),b.onfinish=()=>{k=()=>r,c==null||c(r,1-r),i()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=M)},deactivate:()=>{i=M},reset:()=>{r===0&&(c==null||c(1,0))},t:()=>k()}}function _e(e,t,a=t){xe(e,"input",r=>{var i=r?e.defaultValue:e.value;if(i=K(e)?G(i):i,a(i),i!==(i=t())){var s=e.selectionStart,n=e.selectionEnd;e.value=i??"",n!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(n,e.value.length))}}),(P&&e.defaultValue!==e.value||be(t)==null&&e.value)&&a(K(e)?G(e.value):e.value),He(()=>{var r=t();K(e)&&r===G(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function K(e){var t=e.type;return t==="number"||t==="range"}function G(e){return e===""?null:+e}const ut=e=>e;function re(e,{delay:t=0,duration:a=400,easing:r=ut}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:a,easing:r,css:s=>`opacity: ${s*i}`}}function ct(e,t,a){e.target===l(t)&&a()}var dt=Y('<picture class="svelte-oefubn"><source> <img alt="" class="svelte-oefubn"></picture>'),_t=Y('<div class="modal svelte-oefubn"><div class="view svelte-oefubn"><div class="heading svelte-oefubn"><div class="main svelte-oefubn"><div class="title svelte-oefubn"><!> <div class="name svelte-oefubn"> </div></div> <i class="f7-icons link svelte-oefubn">xmark</i></div> <!></div> <div class="content svelte-oefubn"><!></div></div></div>');function ht(e,t){ae(t,!0);const[a,r]=Ne(),i=()=>we(D,"$overlay_count",a);let s=pe(t,"showing",15),n=q(void 0);const o=()=>s(!1);let g=!1;ye(()=>g=!0),We(()=>c(s()));let d=q(!1);function c(v){g&&(v&&!l(d)?(N(),x(d,!0)):!v&&l(d)&&(h(),x(d,!1)))}function N(){if(le(D,i()+1),document.body.style.position==="fixed")return;const v=document.documentElement.style.getPropertyValue("--scroll-y");document.body.style.position="fixed",document.body.style.width="100%",document.body.style.top=`-${v}`}function h(){let v=i();if(v<=0||(v=Math.max(0,v-1),le(D,v),v>0)||document.body.style.position!=="fixed")return;const f=document.body.style.top;document.body.style.position="",document.body.style.width="",document.body.style.top="",window.scrollTo(0,Number.parseInt(f||"0")*-1)}var u=me(),k=W(u);{var b=v=>{var f=_t();f.__click=[ct,n,o];var m=y(f),_=y(m),p=y(_),O=y(p),E=y(O);{var j=L=>{var z=dt(),Ae=y(z);Je(2),w(z),J(()=>Z(Ae,"srcset",t.icon)),F(L,z)};Q(E,L=>{t.icon&&L(j)})}var I=A(E,2),T=y(I,!0);w(I),w(O);var $=A(O,2);$.__click=o,w(p);var U=A(p,2);X(U,()=>t.heading??M),w(_);var B=A(_,2),S=y(B);X(S,()=>t.children??M),w(B),w(m),w(f),Qe(f,L=>x(n,L),()=>l(n)),J(()=>H(T,t.title)),ee(1,f,()=>re,()=>({duration:200})),ee(2,f,()=>re,()=>({duration:200})),F(v,f)};Q(k,v=>{s()&&v(b)})}F(e,u),ie(),r()}he(["click"]);var mt=Y('<div class="add_popup svelte-1o31jg8"><div class="instruction svelte-1o31jg8">Enter the time you want to count down from, even in plain english.</div> <div> </div> <div class="input_time svelte-1o31jg8"> </div> <form class="svelte-1o31jg8"><input type="text" placeholder="Title" required class="svelte-1o31jg8"> <input type="text" placeholder="1 hour later" required class="svelte-1o31jg8"> <button type="submit">Create</button></form></div>');function gt(e,t){ae(t,!0);const[a,r]=Ne(),i=()=>we(et,"$current_time",a);let s=pe(t,"showing",15),n=q(""),o=q(""),g=R(()=>l(o)?new Date:null),d=R(()=>l(o).length?Ze(l(o),l(g)??void 0):null),c=R(()=>l(d)?Xe(l(d),i()):null);const N=R(()=>k(l(o),l(c))),h=R(()=>b(l(o),l(c)));let u=R(()=>l(c)&&l(n).length>0);function k(f,m){return f?m||"Invalid time":"..."}function b(f,m){return f?m?"valid":"invalid":""}function v(f){f.preventDefault(),!(!l(o).length||!l(n).length||!l(g))&&l(c)&&(tt({title:l(n),text:l(o),created_at:+l(g)}),x(n,""),x(o,""),s(!1))}ht(e,{title:"Create Countdown",get showing(){return s()},set showing(f){s(f)},children:(f,m)=>{var _=mt(),p=A(y(_),2),O=y(p,!0);w(p);var E=A(p,2),j=y(E,!0);w(E);var I=A(E,2),T=y(I);ue(T);var $=A(T,2);ue($);var U=A($,2);let B;w(I),w(_),J((S,L)=>{fe(p,1,`preview style-${l(h)??""}`,"svelte-1o31jg8"),H(O,l(N)),H(j,S),B=fe(U,1,"button link hover svelte-1o31jg8",null,B,L),U.disabled=!l(u)},[()=>{var S;return(S=l(g))==null?void 0:S.toLocaleString()},()=>({hover:l(u)})]),Ie("submit",I,v),_e(T,()=>l(n),S=>x(n,S)),_e($,()=>l(o),S=>x(o,S)),F(f,_)},$$slots:{default:!0}}),ie(),r()}const bt=(e,t)=>x(t,!0);var pt=Y('<!> <div class="svelte-pxe6o4"><!> <div class="button add hover svelte-pxe6o4"><i class="f7-icons svelte-pxe6o4">plus</i></div></div>',1);function Tt(e,t){ae(t,!0);let a=q(!1);ye(()=>x(a,!0));let r=q(!1);var i=me(),s=W(i);{var n=o=>{var g=pt(),d=W(g);gt(d,{get showing(){return l(r)},set showing(u){x(r,u,!0)}});var c=A(d,2),N=y(c);X(N,()=>t.children??M);var h=A(N,2);h.__click=[bt,r],w(c),ee(1,c,()=>re,()=>({duration:200})),F(o,g)};Q(s,o=>{l(a)&&o(n)})}F(e,i),ie()}he(["click"]);export{Tt as component};
