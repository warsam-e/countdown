import{e as un,l as dn,t as Re,f as fn,a as Me,s as se,g as cn}from"../chunks/CLjCeF1E.js";import{a6 as hn,b as mn,s as Le,h as J,a7 as gn,a as Tn,j as P,ak as yn,c as pn,r as ut,d as Be,g as ye,ae as vn,e as Lt,f as Bt,p as wn,al as Ge,ai as Gt,Z as dt,am as En,m as An,an as ft,ao as $n,ap as _n,ah as Dn,aq as Pn,Y as On,ar as xn,as as Nn,ac as Rn,a5 as Mn,at as Sn,au as Cn,av as bn,o as In,D as Un,v as nt,x as rt,y as st,z as L,B as G,A as k,X as Q,k as Ae,V as ct}from"../chunks/wyQbeNh4.js";import{s as Se,a as Ce}from"../chunks/ClW-Kc1r.js";import{w as Yn,r as Wn,g as kn}from"../chunks/B0lLfmmE.js";function Fn(r,e){return e}function zn(r,e,t,n){for(var s=[],i=e.length,a=0;a<i;a++)_n(e[a].e,s,!0);var o=i>0&&s.length===0&&t!==null;if(o){var l=t.parentNode;Dn(l),l.append(t),n.clear(),re(r,e[0].prev,e[i-1].next)}Pn(s,()=>{for(var u=0;u<i;u++){var d=e[u];o||(n.delete(d.k),re(r,d.prev,d.next)),On(d.e,!o)}})}function Ln(r,e,t,n,s,i=null){var a=r,o={flags:e,items:new Map,first:null};{var l=r;a=J?Le(gn(l)):l.appendChild(hn())}J&&Tn();var u=null,d=!1,T=yn(()=>{var g=t();return Mn(g)?g:g==null?[]:Gt(g)});mn(()=>{var g=P(T),w=g.length;if(d&&w===0)return;d=w===0;let v=!1;if(J){var F=a.data===pn;F!==(w===0)&&(a=ut(),Le(a),Be(!1),v=!0)}if(J){for(var I=null,_,M=0;M<w;M++){if(ye.nodeType===8&&ye.data===vn){a=ye,v=!0,Be(!1);break}var U=g[M],z=n(U,M);_=Ht(ye,o,I,null,U,z,M,s,e,t),o.items.set(z,_),I=_}w>0&&Le(ut())}J||Bn(g,o,a,s,e,n,t),i!==null&&(w===0?u?Lt(u):u=Bt(()=>i(a)):u!==null&&wn(u,()=>{u=null})),v&&Be(!0),P(T)}),J&&(a=ye)}function Bn(r,e,t,n,s,i,a){var o=r.length,l=e.items,u=e.first,d=u,T,g=null,w=[],v=[],F,I,_,M;for(M=0;M<o;M+=1){if(F=r[M],I=i(F,M),_=l.get(I),_===void 0){var U=d?d.e.nodes_start:t;g=Ht(U,e,g,g===null?e.first:g.next,F,I,M,n,s,a),l.set(I,g),w=[],v=[],d=g.next;continue}if(Gn(_,F,M),(_.e.f&Ge)!==0&&Lt(_.e),_!==d){if(T!==void 0&&T.has(_)){if(w.length<v.length){var z=v[0],S;g=z.prev;var D=w[0],C=w[w.length-1];for(S=0;S<w.length;S+=1)ht(w[S],z,t);for(S=0;S<v.length;S+=1)T.delete(v[S]);re(e,D.prev,C.next),re(e,g,D),re(e,C,z),d=z,g=C,M-=1,w=[],v=[]}else T.delete(_),ht(_,d,t),re(e,_.prev,_.next),re(e,_,g===null?e.first:g.next),re(e,g,_),g=_;continue}for(w=[],v=[];d!==null&&d.k!==I;)(d.e.f&Ge)===0&&(T??(T=new Set)).add(d),v.push(d),d=d.next;if(d===null)continue;_=d}w.push(_),g=_,d=_.next}if(d!==null||T!==void 0){for(var Y=T===void 0?[]:Gt(T);d!==null;)(d.e.f&Ge)===0&&Y.push(d),d=d.next;var H=Y.length;if(H>0){var p=o===0?t:null;zn(e,Y,p,l)}}dt.first=e.first&&e.first.e,dt.last=g&&g.e}function Gn(r,e,t,n){En(r.v,e),r.i=t}function Ht(r,e,t,n,s,i,a,o,l,u){var d=(l&xn)!==0,T=(l&Nn)===0,g=d?T?An(s):ft(s):s,w=(l&$n)===0?a:ft(a),v={i:w,v:g,k:i,a:null,e:null,prev:t,next:n};try{return v.e=Bt(()=>o(r,g,w,u),J),v.e.prev=t&&t.e,v.e.next=n&&n.e,t===null?e.first=v:(t.next=v,t.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function ht(r,e,t){for(var n=r.next?r.next.e.nodes_start:t,s=e?e.e.nodes_start:t,i=r.e.nodes_start;i!==n;){var a=Rn(i);s.before(i),i=a}}function re(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}const mt=[...` 	
\r\f \v\uFEFF`];function Hn(r,e,t){var n=r==null?"":""+r;if(e&&(n=n?n+" "+e:e),t){for(var s in t)if(t[s])n=n?n+" "+s:s;else if(n.length)for(var i=s.length,a=0;(a=n.indexOf(s,a))>=0;){var o=a+i;(a===0||mt.includes(n[a-1]))&&(o===n.length||mt.includes(n[o]))?n=(a===0?"":n.substring(0,a))+n.substring(o+1):a=o}}return n===""?null:n}function gt(r,e,t,n,s,i){var a=r.__className;if(J||a!==t||a===void 0){var o=Hn(t,n,i);(!J||o!==r.getAttribute("class"))&&(o==null?r.removeAttribute("class"):r.className=o),r.__className=t}else if(i&&s!==i)for(var l in i){var u=!!i[l];(s==null||u!==!!s[l])&&r.classList.toggle(l,u)}return i}const Vn=Symbol("is custom element"),jn=Symbol("is html");function Tt(r){if(J){var e=!1,t=()=>{if(!e){if(e=!0,r.hasAttribute("value")){var n=r.value;yt(r,"value",null),r.value=n}if(r.hasAttribute("checked")){var s=r.checked;yt(r,"checked",null),r.checked=s}}};r.__on_r=t,Sn(t),un()}}function yt(r,e,t,n){var s=qn(r);J&&(s[e]=r.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&r.nodeName==="LINK")||s[e]!==(s[e]=t)&&(e==="loading"&&(r[Cn]=t),r.removeAttribute(e))}function qn(r){return r.__attributes??(r.__attributes={[Vn]:r.nodeName.includes("-"),[jn]:r.namespaceURI===bn})}function pt(r,e,t=e){dn(r,"input",n=>{var s=n?r.defaultValue:r.value;if(s=He(r)?Ve(s):s,t(s),s!==(s=e())){var i=r.selectionStart,a=r.selectionEnd;r.value=s??"",a!==null&&(r.selectionStart=i,r.selectionEnd=Math.min(a,r.value.length))}}),(J&&r.defaultValue!==r.value||In(e)==null&&r.value)&&t(He(r)?Ve(r.value):r.value),Un(()=>{var n=e();He(r)&&n===Ve(r.value)||r.type==="date"&&!n&&!r.value||n!==r.value&&(r.value=n??"")})}function He(r){var e=r.type;return e==="number"||e==="range"}function Ve(r){return r===""?null:+r}function Vt(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var De={exports:{}},Zn=De.exports,vt;function Kn(){return vt||(vt=1,function(r,e){(function(t,n){r.exports=n()})(Zn,function(){var t="month",n="quarter";return function(s,i){var a=i.prototype;a.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var o=a.add;a.add=function(u,d){return u=Number(u),this.$utils().p(d)===n?this.add(3*u,t):o.bind(this)(u,d)};var l=a.startOf;a.startOf=function(u,d){var T=this.$utils(),g=!!T.u(d)||d;if(T.p(u)===n){var w=this.quarter()-1;return g?this.month(3*w).startOf(t).startOf("day"):this.month(3*w+2).endOf(t).endOf("day")}return l.bind(this)(u,d)}}})}(De)),De.exports}var Xn=Kn();const Jn=Vt(Xn);var Pe={exports:{}},Qn=Pe.exports,wt;function er(){return wt||(wt=1,function(r,e){(function(t,n){r.exports=n()})(Qn,function(){var t=1e3,n=6e4,s=36e5,i="millisecond",a="second",o="minute",l="hour",u="day",d="week",T="month",g="quarter",w="year",v="date",F="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(y){var c=["th","st","nd","rd"],f=y%100;return"["+y+(c[(f-20)%10]||c[f]||c[0])+"]"}},U=function(y,c,f){var m=String(y);return!m||m.length>=c?y:""+Array(c+1-m.length).join(f)+y},z={s:U,z:function(y){var c=-y.utcOffset(),f=Math.abs(c),m=Math.floor(f/60),h=f%60;return(c<=0?"+":"-")+U(m,2,"0")+":"+U(h,2,"0")},m:function y(c,f){if(c.date()<f.date())return-y(f,c);var m=12*(f.year()-c.year())+(f.month()-c.month()),h=c.clone().add(m,T),A=f-h<0,$=c.clone().add(m+(A?-1:1),T);return+(-(m+(f-h)/(A?h-$:$-h))||0)},a:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)},p:function(y){return{M:T,y:w,w:d,d:u,D:v,h:l,m:o,s:a,ms:i,Q:g}[y]||String(y||"").toLowerCase().replace(/s$/,"")},u:function(y){return y===void 0}},S="en",D={};D[S]=M;var C="$isDayjsObject",Y=function(y){return y instanceof Z||!(!y||!y[C])},H=function y(c,f,m){var h;if(!c)return S;if(typeof c=="string"){var A=c.toLowerCase();D[A]&&(h=A),f&&(D[A]=f,h=A);var $=c.split("-");if(!h&&$.length>1)return y($[0])}else{var x=c.name;D[x]=c,h=x}return!m&&h&&(S=h),h||!m&&S},p=function(y,c){if(Y(y))return y.clone();var f=typeof c=="object"?c:{};return f.date=y,f.args=arguments,new Z(f)},E=z;E.l=H,E.i=Y,E.w=function(y,c){return p(y,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var Z=function(){function y(f){this.$L=H(f.locale,null,!0),this.parse(f),this.$x=this.$x||f.x||{},this[C]=!0}var c=y.prototype;return c.parse=function(f){this.$d=function(m){var h=m.date,A=m.utc;if(h===null)return new Date(NaN);if(E.u(h))return new Date;if(h instanceof Date)return new Date(h);if(typeof h=="string"&&!/Z$/i.test(h)){var $=h.match(I);if($){var x=$[2]-1||0,b=($[7]||"0").substring(0,3);return A?new Date(Date.UTC($[1],x,$[3]||1,$[4]||0,$[5]||0,$[6]||0,b)):new Date($[1],x,$[3]||1,$[4]||0,$[5]||0,$[6]||0,b)}}return new Date(h)}(f),this.init()},c.init=function(){var f=this.$d;this.$y=f.getFullYear(),this.$M=f.getMonth(),this.$D=f.getDate(),this.$W=f.getDay(),this.$H=f.getHours(),this.$m=f.getMinutes(),this.$s=f.getSeconds(),this.$ms=f.getMilliseconds()},c.$utils=function(){return E},c.isValid=function(){return this.$d.toString()!==F},c.isSame=function(f,m){var h=p(f);return this.startOf(m)<=h&&h<=this.endOf(m)},c.isAfter=function(f,m){return p(f)<this.startOf(m)},c.isBefore=function(f,m){return this.endOf(m)<p(f)},c.$g=function(f,m,h){return E.u(f)?this[m]:this.set(h,f)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(f,m){var h=this,A=!!E.u(m)||m,$=E.p(f),x=function(oe,V){var te=E.w(h.$u?Date.UTC(h.$y,V,oe):new Date(h.$y,V,oe),h);return A?te:te.endOf(u)},b=function(oe,V){return E.w(h.toDate()[oe].apply(h.toDate("s"),(A?[0,0,0,0]:[23,59,59,999]).slice(V)),h)},W=this.$W,B=this.$M,K=this.$D,ue="set"+(this.$u?"UTC":"");switch($){case w:return A?x(1,0):x(31,11);case T:return A?x(1,B):x(0,B+1);case d:var ae=this.$locale().weekStart||0,ge=(W<ae?W+7:W)-ae;return x(A?K-ge:K+(6-ge),B);case u:case v:return b(ue+"Hours",0);case l:return b(ue+"Minutes",1);case o:return b(ue+"Seconds",2);case a:return b(ue+"Milliseconds",3);default:return this.clone()}},c.endOf=function(f){return this.startOf(f,!1)},c.$set=function(f,m){var h,A=E.p(f),$="set"+(this.$u?"UTC":""),x=(h={},h[u]=$+"Date",h[v]=$+"Date",h[T]=$+"Month",h[w]=$+"FullYear",h[l]=$+"Hours",h[o]=$+"Minutes",h[a]=$+"Seconds",h[i]=$+"Milliseconds",h)[A],b=A===u?this.$D+(m-this.$W):m;if(A===T||A===w){var W=this.clone().set(v,1);W.$d[x](b),W.init(),this.$d=W.set(v,Math.min(this.$D,W.daysInMonth())).$d}else x&&this.$d[x](b);return this.init(),this},c.set=function(f,m){return this.clone().$set(f,m)},c.get=function(f){return this[E.p(f)]()},c.add=function(f,m){var h,A=this;f=Number(f);var $=E.p(m),x=function(B){var K=p(A);return E.w(K.date(K.date()+Math.round(B*f)),A)};if($===T)return this.set(T,this.$M+f);if($===w)return this.set(w,this.$y+f);if($===u)return x(1);if($===d)return x(7);var b=(h={},h[o]=n,h[l]=s,h[a]=t,h)[$]||1,W=this.$d.getTime()+f*b;return E.w(W,this)},c.subtract=function(f,m){return this.add(-1*f,m)},c.format=function(f){var m=this,h=this.$locale();if(!this.isValid())return h.invalidDate||F;var A=f||"YYYY-MM-DDTHH:mm:ssZ",$=E.z(this),x=this.$H,b=this.$m,W=this.$M,B=h.weekdays,K=h.months,ue=h.meridiem,ae=function(V,te,Te,Ee){return V&&(V[te]||V(m,A))||Te[te].slice(0,Ee)},ge=function(V){return E.s(x%12||12,V,"0")},oe=ue||function(V,te,Te){var Ee=V<12?"AM":"PM";return Te?Ee.toLowerCase():Ee};return A.replace(_,function(V,te){return te||function(Te){switch(Te){case"YY":return String(m.$y).slice(-2);case"YYYY":return E.s(m.$y,4,"0");case"M":return W+1;case"MM":return E.s(W+1,2,"0");case"MMM":return ae(h.monthsShort,W,K,3);case"MMMM":return ae(K,W);case"D":return m.$D;case"DD":return E.s(m.$D,2,"0");case"d":return String(m.$W);case"dd":return ae(h.weekdaysMin,m.$W,B,2);case"ddd":return ae(h.weekdaysShort,m.$W,B,3);case"dddd":return B[m.$W];case"H":return String(x);case"HH":return E.s(x,2,"0");case"h":return ge(1);case"hh":return ge(2);case"a":return oe(x,b,!0);case"A":return oe(x,b,!1);case"m":return String(b);case"mm":return E.s(b,2,"0");case"s":return String(m.$s);case"ss":return E.s(m.$s,2,"0");case"SSS":return E.s(m.$ms,3,"0");case"Z":return $}return null}(V)||$.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(f,m,h){var A,$=this,x=E.p(m),b=p(f),W=(b.utcOffset()-this.utcOffset())*n,B=this-b,K=function(){return E.m($,b)};switch(x){case w:A=K()/12;break;case T:A=K();break;case g:A=K()/3;break;case d:A=(B-W)/6048e5;break;case u:A=(B-W)/864e5;break;case l:A=B/s;break;case o:A=B/n;break;case a:A=B/t;break;default:A=B}return h?A:E.a(A)},c.daysInMonth=function(){return this.endOf(T).$D},c.$locale=function(){return D[this.$L]},c.locale=function(f,m){if(!f)return this.$L;var h=this.clone(),A=H(f,m,!0);return A&&(h.$L=A),h},c.clone=function(){return E.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},y}(),me=Z.prototype;return p.prototype=me,[["$ms",i],["$s",a],["$m",o],["$H",l],["$W",u],["$M",T],["$y",w],["$D",v]].forEach(function(y){me[y[1]]=function(c){return this.$g(c,y[0],y[1])}}),p.extend=function(y,c){return y.$i||(y(c,Z,p),y.$i=!0),p},p.locale=H,p.isDayjs=Y,p.unix=function(y){return p(1e3*y)},p.en=D[S],p.Ls=D,p.p={},p})}(Pe)),Pe.exports}var tr=er();const j=Vt(tr);var O;(function(r){r[r.AM=0]="AM",r[r.PM=1]="PM"})(O||(O={}));var R;(function(r){r[r.SUNDAY=0]="SUNDAY",r[r.MONDAY=1]="MONDAY",r[r.TUESDAY=2]="TUESDAY",r[r.WEDNESDAY=3]="WEDNESDAY",r[r.THURSDAY=4]="THURSDAY",r[r.FRIDAY=5]="FRIDAY",r[r.SATURDAY=6]="SATURDAY"})(R||(R={}));var X;(function(r){r[r.JANUARY=1]="JANUARY",r[r.FEBRUARY=2]="FEBRUARY",r[r.MARCH=3]="MARCH",r[r.APRIL=4]="APRIL",r[r.MAY=5]="MAY",r[r.JUNE=6]="JUNE",r[r.JULY=7]="JULY",r[r.AUGUST=8]="AUGUST",r[r.SEPTEMBER=9]="SEPTEMBER",r[r.OCTOBER=10]="OCTOBER",r[r.NOVEMBER=11]="NOVEMBER",r[r.DECEMBER=12]="DECEMBER"})(X||(X={}));function nr(r,e){e=e.add(1,"day"),qt(r,e),be(r,e)}function le(r,e){r.assign("day",e.date()),r.assign("month",e.month()+1),r.assign("year",e.year())}function jt(r,e){r.assign("hour",e.hour()),r.assign("minute",e.minute()),r.assign("second",e.second()),r.assign("millisecond",e.millisecond()),r.get("hour")<12?r.assign("meridiem",O.AM):r.assign("meridiem",O.PM)}function qt(r,e){r.imply("day",e.date()),r.imply("month",e.month()+1),r.imply("year",e.year())}function be(r,e){r.imply("hour",e.hour()),r.imply("minute",e.minute()),r.imply("second",e.second()),r.imply("millisecond",e.millisecond())}const rr={ACDT:630,ACST:570,ADT:-180,AEDT:660,AEST:600,AFT:270,AKDT:-480,AKST:-540,ALMT:360,AMST:-180,AMT:-240,ANAST:720,ANAT:720,AQTT:300,ART:-180,AST:-240,AWDT:540,AWST:480,AZOST:0,AZOT:-60,AZST:300,AZT:240,BNT:480,BOT:-240,BRST:-120,BRT:-180,BST:60,BTT:360,CAST:480,CAT:120,CCT:390,CDT:-300,CEST:120,CET:{timezoneOffsetDuringDst:2*60,timezoneOffsetNonDst:60,dstStart:r=>Et(r,X.MARCH,R.SUNDAY,2),dstEnd:r=>Et(r,X.OCTOBER,R.SUNDAY,3)},CHADT:825,CHAST:765,CKT:-600,CLST:-180,CLT:-240,COT:-300,CST:-360,CT:{timezoneOffsetDuringDst:-5*60,timezoneOffsetNonDst:-6*60,dstStart:r=>ne(r,X.MARCH,R.SUNDAY,2,2),dstEnd:r=>ne(r,X.NOVEMBER,R.SUNDAY,1,2)},CVT:-60,CXT:420,ChST:600,DAVT:420,EASST:-300,EAST:-360,EAT:180,ECT:-300,EDT:-240,EEST:180,EET:120,EGST:0,EGT:-60,EST:-300,ET:{timezoneOffsetDuringDst:-4*60,timezoneOffsetNonDst:-5*60,dstStart:r=>ne(r,X.MARCH,R.SUNDAY,2,2),dstEnd:r=>ne(r,X.NOVEMBER,R.SUNDAY,1,2)},FJST:780,FJT:720,FKST:-180,FKT:-240,FNT:-120,GALT:-360,GAMT:-540,GET:240,GFT:-180,GILT:720,GMT:0,GST:240,GYT:-240,HAA:-180,HAC:-300,HADT:-540,HAE:-240,HAP:-420,HAR:-360,HAST:-600,HAT:-90,HAY:-480,HKT:480,HLV:-210,HNA:-240,HNC:-360,HNE:-300,HNP:-480,HNR:-420,HNT:-150,HNY:-540,HOVT:420,ICT:420,IDT:180,IOT:360,IRDT:270,IRKST:540,IRKT:540,IRST:210,IST:330,JST:540,KGT:360,KRAST:480,KRAT:480,KST:540,KUYT:240,LHDT:660,LHST:630,LINT:840,MAGST:720,MAGT:720,MART:-510,MAWT:300,MDT:-360,MESZ:120,MEZ:60,MHT:720,MMT:390,MSD:240,MSK:180,MST:-420,MT:{timezoneOffsetDuringDst:-6*60,timezoneOffsetNonDst:-7*60,dstStart:r=>ne(r,X.MARCH,R.SUNDAY,2,2),dstEnd:r=>ne(r,X.NOVEMBER,R.SUNDAY,1,2)},MUT:240,MVT:300,MYT:480,NCT:660,NDT:-90,NFT:690,NOVST:420,NOVT:360,NPT:345,NST:-150,NUT:-660,NZDT:780,NZST:720,OMSST:420,OMST:420,PDT:-420,PET:-300,PETST:720,PETT:720,PGT:600,PHOT:780,PHT:480,PKT:300,PMDT:-120,PMST:-180,PONT:660,PST:-480,PT:{timezoneOffsetDuringDst:-7*60,timezoneOffsetNonDst:-8*60,dstStart:r=>ne(r,X.MARCH,R.SUNDAY,2,2),dstEnd:r=>ne(r,X.NOVEMBER,R.SUNDAY,1,2)},PWT:540,PYST:-180,PYT:-240,RET:240,SAMT:240,SAST:120,SBT:660,SCT:240,SGT:480,SRT:-180,SST:-660,TAHT:-600,TFT:300,TJT:300,TKT:780,TLT:540,TMT:300,TVT:720,ULAT:480,UTC:0,UYST:-120,UYT:-180,UZT:300,VET:-210,VLAST:660,VLAT:660,VUT:660,WAST:120,WAT:60,WEST:60,WESZ:60,WET:0,WEZ:0,WFT:720,WGST:-120,WGT:-180,WIB:420,WIT:540,WITA:480,WST:780,WT:0,YAKST:600,YAKT:600,YAPT:600,YEKST:360,YEKT:360};function ne(r,e,t,n,s=0){let i=0,a=0;for(;a<n;)i++,new Date(r,e-1,i).getDay()===t&&a++;return new Date(r,e-1,i,s)}function Et(r,e,t,n=0){const s=t===0?7:t,i=new Date(r,e-1+1,1,12),a=i.getDay()===0?7:i.getDay();let o;return a===s?o=7:a<s?o=7+a-s:o=a-s,i.setDate(i.getDate()-o),new Date(r,e-1,i.getDate(),n)}function Zt(r,e,t={}){if(r==null)return null;if(typeof r=="number")return r;const n=t[r]??rr[r];return n==null?null:typeof n=="number"?n:e==null?null:j(e).isAfter(n.dstStart(e.getFullYear()))&&!j(e).isAfter(n.dstEnd(e.getFullYear()))?n.timezoneOffsetDuringDst:n.timezoneOffsetNonDst}j.extend(Jn);class it{constructor(e){e=e??new Date,e instanceof Date?(this.instant=e,this.timezoneOffset=null):(this.instant=e.instant??new Date,this.timezoneOffset=Zt(e.timezone,this.instant))}getDateWithAdjustedTimezone(){const e=new Date(this.instant);return this.timezoneOffset!==null&&e.setMinutes(e.getMinutes()-this.getSystemTimezoneAdjustmentMinute(this.instant)),e}getSystemTimezoneAdjustmentMinute(e,t){(!e||e.getTime()<0)&&(e=new Date);const n=-e.getTimezoneOffset(),s=t??this.timezoneOffset??n;return n-s}getTimezoneOffset(){return this.timezoneOffset??-this.instant.getTimezoneOffset()}}class N{constructor(e,t){if(this._tags=new Set,this.reference=e,this.knownValues={},this.impliedValues={},t)for(const s in t)this.knownValues[s]=t[s];const n=e.getDateWithAdjustedTimezone();this.imply("day",n.getDate()),this.imply("month",n.getMonth()+1),this.imply("year",n.getFullYear()),this.imply("hour",12),this.imply("minute",0),this.imply("second",0),this.imply("millisecond",0)}get(e){return e in this.knownValues?this.knownValues[e]:e in this.impliedValues?this.impliedValues[e]:null}isCertain(e){return e in this.knownValues}getCertainComponents(){return Object.keys(this.knownValues)}imply(e,t){return e in this.knownValues?this:(this.impliedValues[e]=t,this)}assign(e,t){return this.knownValues[e]=t,delete this.impliedValues[e],this}delete(e){delete this.knownValues[e],delete this.impliedValues[e]}clone(){const e=new N(this.reference);e.knownValues={},e.impliedValues={};for(const t in this.knownValues)e.knownValues[t]=this.knownValues[t];for(const t in this.impliedValues)e.impliedValues[t]=this.impliedValues[t];return e}isOnlyDate(){return!this.isCertain("hour")&&!this.isCertain("minute")&&!this.isCertain("second")}isOnlyTime(){return!this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")&&!this.isCertain("year")}isOnlyWeekdayComponent(){return this.isCertain("weekday")&&!this.isCertain("day")&&!this.isCertain("month")}isDateWithUnknownYear(){return this.isCertain("month")&&!this.isCertain("year")}isValidDate(){const e=this.dateWithoutTimezoneAdjustment();return!(e.getFullYear()!==this.get("year")||e.getMonth()!==this.get("month")-1||e.getDate()!==this.get("day")||this.get("hour")!=null&&e.getHours()!=this.get("hour")||this.get("minute")!=null&&e.getMinutes()!=this.get("minute"))}toString(){return`[ParsingComponents {
            tags: ${JSON.stringify(Array.from(this._tags).sort())}, 
            knownValues: ${JSON.stringify(this.knownValues)}, 
            impliedValues: ${JSON.stringify(this.impliedValues)}}, 
            reference: ${JSON.stringify(this.reference)}]`}dayjs(){return j(this.dateWithoutTimezoneAdjustment())}date(){const e=this.dateWithoutTimezoneAdjustment(),t=this.reference.getSystemTimezoneAdjustmentMinute(e,this.get("timezoneOffset"));return new Date(e.getTime()+t*6e4)}addTag(e){return this._tags.add(e),this}addTags(e){for(const t of e)this._tags.add(t);return this}tags(){return new Set(this._tags)}dateWithoutTimezoneAdjustment(){const e=new Date(this.get("year"),this.get("month")-1,this.get("day"),this.get("hour"),this.get("minute"),this.get("second"),this.get("millisecond"));return e.setFullYear(this.get("year")),e}static createRelativeFromReference(e,t){let n=j(e.getDateWithAdjustedTimezone());for(const i in t)n=n.add(t[i],i);const s=new N(e);return s.addTag("result/relativeDate"),t.hour||t.minute||t.second?(s.addTag("result/relativeDateAndTime"),jt(s,n),le(s,n),s.assign("timezoneOffset",e.getTimezoneOffset())):(be(s,n),s.imply("timezoneOffset",e.getTimezoneOffset()),t.d?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year())):t.week?(s.assign("day",n.date()),s.assign("month",n.month()+1),s.assign("year",n.year()),s.imply("weekday",n.day())):(s.imply("day",n.date()),t.month?(s.assign("month",n.month()+1),s.assign("year",n.year())):(s.imply("month",n.month()+1),t.year?s.assign("year",n.year()):s.imply("year",n.year())))),s}}class ce{constructor(e,t,n,s,i){this.reference=e,this.refDate=e.instant,this.index=t,this.text=n,this.start=s||new N(e),this.end=i}clone(){const e=new ce(this.reference,this.index,this.text);return e.start=this.start?this.start.clone():null,e.end=this.end?this.end.clone():null,e}date(){return this.start.date()}addTag(e){return this.start.addTag(e),this.end&&this.end.addTag(e),this}addTags(e){return this.start.addTags(e),this.end&&this.end.addTags(e),this}tags(){const e=new Set(this.start.tags());if(this.end)for(const t of this.end.tags())e.add(t);return e}toString(){const e=Array.from(this.tags()).sort();return`[ParsingResult {index: ${this.index}, text: '${this.text}', tags: ${JSON.stringify(e)} ...}]`}}function Kt(r,e,t="\\s{0,5},?\\s{0,5}"){const n=e.replace(/\((?!\?)/g,"(?:");return`${r}${n}(?:${t}${n}){0,10}`}function sr(r){let e;return r instanceof Array?e=[...r]:r instanceof Map?e=Array.from(r.keys()):e=Object.keys(r),e}function ee(r){return`(?:${sr(r).sort((t,n)=>n.length-t.length).join("|").replace(/\./g,"\\.")})`}function Xt(r){return r<100&&(r>50?r=r+1900:r=r+2e3),r}function Ie(r,e,t){const n=j(r);let s=n;s=s.month(t-1),s=s.date(e),s=s.year(n.year());const i=s.add(1,"y"),a=s.add(-1,"y");return Math.abs(i.diff(n))<Math.abs(s.diff(n))?s=i:Math.abs(a.diff(n))<Math.abs(s.diff(n))&&(s=a),s.year()}const Je={sunday:0,sun:0,"sun.":0,monday:1,mon:1,"mon.":1,tuesday:2,tue:2,"tue.":2,wednesday:3,wed:3,"wed.":3,thursday:4,thurs:4,"thurs.":4,thur:4,"thur.":4,thu:4,"thu.":4,friday:5,fri:5,"fri.":5,saturday:6,sat:6,"sat.":6},Jt={january:1,february:2,march:3,april:4,may:5,june:6,july:7,august:8,september:9,october:10,november:11,december:12},ie={...Jt,jan:1,"jan.":1,feb:2,"feb.":2,mar:3,"mar.":3,apr:4,"apr.":4,jun:6,"jun.":6,jul:7,"jul.":7,aug:8,"aug.":8,sep:9,"sep.":9,sept:9,"sept.":9,oct:10,"oct.":10,nov:11,"nov.":11,dec:12,"dec.":12},Qe={one:1,two:2,three:3,four:4,five:5,six:6,seven:7,eight:8,nine:9,ten:10,eleven:11,twelve:12},et={first:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12,thirteenth:13,fourteenth:14,fifteenth:15,sixteenth:16,seventeenth:17,eighteenth:18,nineteenth:19,twentieth:20,"twenty first":21,"twenty-first":21,"twenty second":22,"twenty-second":22,"twenty third":23,"twenty-third":23,"twenty fourth":24,"twenty-fourth":24,"twenty fifth":25,"twenty-fifth":25,"twenty sixth":26,"twenty-sixth":26,"twenty seventh":27,"twenty-seventh":27,"twenty eighth":28,"twenty-eighth":28,"twenty ninth":29,"twenty-ninth":29,thirtieth:30,"thirty first":31,"thirty-first":31},Qt={second:"second",seconds:"second",minute:"minute",minutes:"minute",hour:"hour",hours:"hour",day:"d",days:"d",week:"week",weeks:"week",month:"month",months:"month",quarter:"quarter",quarters:"quarter",year:"year",years:"year"},Ue={s:"second",sec:"second",second:"second",seconds:"second",m:"minute",min:"minute",mins:"minute",minute:"minute",minutes:"minute",h:"hour",hr:"hour",hrs:"hour",hour:"hour",hours:"hour",d:"d",day:"d",days:"d",w:"w",week:"week",weeks:"week",mo:"month",mon:"month",mos:"month",month:"month",months:"month",qtr:"quarter",quarter:"quarter",quarters:"quarter",y:"year",yr:"year",year:"year",years:"year",...Qt},en=`(?:${ee(Qe)}|[0-9]+|[0-9]+\\.[0-9]+|half(?:\\s{0,2}an?)?|an?\\b(?:\\s{0,2}few)?|few|several|the|a?\\s{0,2}couple\\s{0,2}(?:of)?)`;function ir(r){const e=r.toLowerCase();return Qe[e]!==void 0?Qe[e]:e==="a"||e==="an"||e=="the"?1:e.match(/few/)?3:e.match(/half/)?.5:e.match(/couple/)?2:e.match(/several/)?7:parseFloat(e)}const xe=`(?:${ee(et)}|[0-9]{1,2}(?:st|nd|rd|th)?)`;function Ne(r){let e=r.toLowerCase();return et[e]!==void 0?et[e]:(e=e.replace(/(?:st|nd|rd|th)$/i,""),parseInt(e))}const Ye="(?:[1-9][0-9]{0,3}\\s{0,2}(?:BE|AD|BC|BCE|CE)|[1-2][0-9]{3}|[5-9][0-9]|2[0-5])";function We(r){if(/BE/i.test(r))return r=r.replace(/BE/i,""),parseInt(r)-543;if(/BCE?/i.test(r))return r=r.replace(/BCE?/i,""),-parseInt(r);if(/(AD|CE)/i.test(r))return r=r.replace(/(AD|CE)/i,""),parseInt(r);const e=parseInt(r);return Xt(e)}const tn=`(${en})\\s{0,3}(${ee(Ue)})`,At=new RegExp(tn,"i"),ar=`(${en})\\s{0,3}(${ee(Qt)})`,nn="\\s{0,5},?(?:\\s*and)?\\s{0,5}",ve=Kt("(?:(?:about|around)\\s{0,3})?",tn,nn),ke=Kt("(?:(?:about|around)\\s{0,3})?",ar,nn);function he(r){const e={};let t=r,n=At.exec(t);for(;n;)or(e,n),t=t.substring(n[0].length).trim(),n=At.exec(t);return Object.keys(e).length==0?null:e}function or(r,e){if(e[0].match(/^[a-zA-Z]+$/))return;const t=ir(e[1]),n=Ue[e[2].toLowerCase()];r[n]=t}class q{constructor(){this.cachedInnerPattern=null,this.cachedPattern=null}innerPatternHasChange(e,t){return this.innerPattern(e)!==t}patternLeftBoundary(){return"(\\W|^)"}pattern(e){return this.cachedInnerPattern&&!this.innerPatternHasChange(e,this.cachedInnerPattern)?this.cachedPattern:(this.cachedInnerPattern=this.innerPattern(e),this.cachedPattern=new RegExp(`${this.patternLeftBoundary()}${this.cachedInnerPattern.source}`,this.cachedInnerPattern.flags),this.cachedPattern)}extract(e,t){const n=t[1]??"";t.index=t.index+n.length,t[0]=t[0].substring(n.length);for(let s=2;s<t.length;s++)t[s-1]=t[s];return this.innerExtract(e,t)}}const lr=new RegExp(`(?:(?:within|in|for)\\s*)?(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ve})(?=\\W|$)`,"i"),ur=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ve})(?=\\W|$)`,"i"),dr=new RegExp(`(?:within|in|for)\\s*(?:(?:about|around|roughly|approximately|just)\\s*(?:~\\s*)?)?(${ke})(?=\\W|$)`,"i");class fr extends q{constructor(e){super(),this.strictMode=e}innerPattern(e){return this.strictMode?dr:e.option.forwardDate?lr:ur}innerExtract(e,t){if(t[0].match(/^for\s*the\s*\w+/))return null;const n=he(t[1]);return n?N.createRelativeFromReference(e.reference,n):null}}const cr=new RegExp(`(?:on\\s{0,3})?(${xe})(?:\\s{0,3}(?:to|\\-|\\–|until|through|till)?\\s{0,3}(${xe}))?(?:-|/|\\s{0,3}(?:of)?\\s{0,3})(${ee(ie)})(?:(?:-|/|,?\\s{0,3})(${Ye}(?!\\w)))?(?=\\W|$)`,"i"),$t=1,_t=2,hr=3,Dt=4;class mr extends q{innerPattern(){return cr}innerExtract(e,t){const n=e.createParsingResult(t.index,t[0]),s=ie[t[hr].toLowerCase()],i=Ne(t[$t]);if(i>31)return t.index=t.index+t[$t].length,null;if(n.start.assign("month",s),n.start.assign("day",i),t[Dt]){const a=We(t[Dt]);n.start.assign("year",a)}else{const a=Ie(e.refDate,i,s);n.start.imply("year",a)}if(t[_t]){const a=Ne(t[_t]);n.end=n.start.clone(),n.end.assign("day",a)}return n}}const gr=new RegExp(`(${ee(ie)})(?:-|/|\\s*,?\\s*)(${xe})(?!\\s*(?:am|pm))\\s*(?:(?:to|\\-)\\s*(${xe})\\s*)?(?:(?:-|/|\\s*,\\s*|\\s+)(${Ye}))?(?=\\W|$)(?!\\:\\d)`,"i"),Tr=1,Pt=2,je=3,qe=4;class yr extends q{constructor(e){super(),this.shouldSkipYearLikeDate=e}innerPattern(){return gr}innerExtract(e,t){const n=ie[t[Tr].toLowerCase()],s=Ne(t[Pt]);if(s>31||this.shouldSkipYearLikeDate&&!t[je]&&!t[qe]&&t[Pt].match(/^2[0-5]$/))return null;const i=e.createParsingComponents({day:s,month:n}).addTag("parser/ENMonthNameMiddleEndianParser");if(t[qe]){const l=We(t[qe]);i.assign("year",l)}else{const l=Ie(e.refDate,s,n);i.imply("year",l)}if(!t[je])return i;const a=Ne(t[je]),o=e.createParsingResult(t.index,t[0]);return o.start=i,o.end=i.clone(),o.end.assign("day",a),o}}const pr=new RegExp(`((?:in)\\s*)?(${ee(ie)})\\s*(?:(?:,|-|of)?\\s*(${Ye})?)?(?=[^\\s\\w]|\\s+[^0-9]|\\s+$|$)`,"i"),vr=1,wr=2,Ot=3;class Er extends q{innerPattern(){return pr}innerExtract(e,t){const n=t[wr].toLowerCase();if(t[0].length<=3&&!Jt[n])return null;const s=e.createParsingResult(t.index+(t[vr]||"").length,t.index+t[0].length);s.start.imply("day",1),s.start.addTag("parser/ENMonthNameParser");const i=ie[n];if(s.start.assign("month",i),t[Ot]){const a=We(t[Ot]);s.start.assign("year",a)}else{const a=Ie(e.refDate,1,i);s.start.imply("year",a)}return s}}const Ar=new RegExp(`([0-9]{4})[-\\.\\/\\s](?:(${ee(ie)})|([0-9]{1,2}))[-\\.\\/\\s]([0-9]{1,2})(?=\\W|$)`,"i"),$r=1,_r=2,xt=3,Dr=4;class Pr extends q{constructor(e){super(),this.strictMonthDateOrder=e}innerPattern(){return Ar}innerExtract(e,t){const n=parseInt(t[$r]);let s=parseInt(t[Dr]),i=t[xt]?parseInt(t[xt]):ie[t[_r].toLowerCase()];if(i<1||i>12){if(this.strictMonthDateOrder)return null;s>=1&&s<=12&&([i,s]=[s,i])}return s<1||s>31?null:{day:s,month:i,year:n}}}const Or=new RegExp("([0-9]|0[1-9]|1[012])/([0-9]{4})","i"),xr=1,Nr=2;class Rr extends q{innerPattern(){return Or}innerExtract(e,t){const n=parseInt(t[Nr]),s=parseInt(t[xr]);return e.createParsingComponents().imply("day",1).assign("month",s).assign("year",n)}}function Mr(r,e,t,n){return new RegExp(`${r}${e}(\\d{1,4})(?:(?:\\.|:|：)(\\d{1,2})(?:(?::|：)(\\d{2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${t}`,n)}function Sr(r,e){return new RegExp(`^(${r})(\\d{1,4})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:(?:\\.|\\:|\\：)(\\d{1,2})(?:\\.(\\d{1,6}))?)?)?(?:\\s*(a\\.m\\.|p\\.m\\.|am?|pm?))?${e}`,"i")}const Nt=2,de=3,$e=4,_e=5,pe=6;class Cr{constructor(e=!1){this.cachedPrimaryPrefix=null,this.cachedPrimarySuffix=null,this.cachedPrimaryTimePattern=null,this.cachedFollowingPhase=null,this.cachedFollowingSuffix=null,this.cachedFollowingTimePatten=null,this.strictMode=e}patternFlags(){return"i"}primaryPatternLeftBoundary(){return"(^|\\s|T|\\b)"}primarySuffix(){return"(?!/)(?=\\W|$)"}followingSuffix(){return"(?!/)(?=\\W|$)"}pattern(e){return this.getPrimaryTimePatternThroughCache()}extract(e,t){const n=this.extractPrimaryTimeComponents(e,t);if(!n)return t[0].match(/^\d{4}/)?(t.index+=4,null):(t.index+=t[0].length,null);const s=t.index+t[1].length,i=t[0].substring(t[1].length),a=e.createParsingResult(s,i,n);t.index+=t[0].length;const o=e.text.substring(t.index),u=this.getFollowingTimePatternThroughCache().exec(o);return i.match(/^\d{3,4}/)&&u&&(u[0].match(/^\s*([+-])\s*\d{2,4}$/)||u[0].match(/^\s*([+-])\s*\d{2}\W\d{2}/))?null:!u||u[0].match(/^\s*([+-])\s*\d{3,4}$/)?this.checkAndReturnWithoutFollowingPattern(a):(a.end=this.extractFollowingTimeComponents(e,u,a),a.end&&(a.text+=u[0]),this.checkAndReturnWithFollowingPattern(a))}extractPrimaryTimeComponents(e,t,n=!1){const s=e.createParsingComponents();let i=0,a=null,o=parseInt(t[Nt]);if(o>100){if(this.strictMode||t[de]!=null)return null;i=o%100,o=Math.floor(o/100)}if(o>24)return null;if(t[de]!=null){if(t[de].length==1&&!t[pe])return null;i=parseInt(t[de])}if(i>=60)return null;if(o>12&&(a=O.PM),t[pe]!=null){if(o>12)return null;const l=t[pe][0].toLowerCase();l=="a"&&(a=O.AM,o==12&&(o=0)),l=="p"&&(a=O.PM,o!=12&&(o+=12))}if(s.assign("hour",o),s.assign("minute",i),a!==null?s.assign("meridiem",a):o<12?s.imply("meridiem",O.AM):s.imply("meridiem",O.PM),t[_e]!=null){const l=parseInt(t[_e].substring(0,3));if(l>=1e3)return null;s.assign("millisecond",l)}if(t[$e]!=null){const l=parseInt(t[$e]);if(l>=60)return null;s.assign("second",l)}return s}extractFollowingTimeComponents(e,t,n){const s=e.createParsingComponents();if(t[_e]!=null){const l=parseInt(t[_e].substring(0,3));if(l>=1e3)return null;s.assign("millisecond",l)}if(t[$e]!=null){const l=parseInt(t[$e]);if(l>=60)return null;s.assign("second",l)}let i=parseInt(t[Nt]),a=0,o=-1;if(t[de]!=null?a=parseInt(t[de]):i>100&&(a=i%100,i=Math.floor(i/100)),a>=60||i>24)return null;if(i>=12&&(o=O.PM),t[pe]!=null){if(i>12)return null;const l=t[pe][0].toLowerCase();l=="a"&&(o=O.AM,i==12&&(i=0,s.isCertain("day")||s.imply("day",s.get("day")+1))),l=="p"&&(o=O.PM,i!=12&&(i+=12)),n.start.isCertain("meridiem")||(o==O.AM?(n.start.imply("meridiem",O.AM),n.start.get("hour")==12&&n.start.assign("hour",0)):(n.start.imply("meridiem",O.PM),n.start.get("hour")!=12&&n.start.assign("hour",n.start.get("hour")+12)))}return s.assign("hour",i),s.assign("minute",a),o>=0?s.assign("meridiem",o):n.start.isCertain("meridiem")&&n.start.get("hour")>12?n.start.get("hour")-12>i?s.imply("meridiem",O.AM):i<=12&&(s.assign("hour",i+12),s.assign("meridiem",O.PM)):i>12?s.imply("meridiem",O.PM):i<=12&&s.imply("meridiem",O.AM),s.date().getTime()<n.start.date().getTime()&&s.imply("day",s.get("day")+1),s}checkAndReturnWithoutFollowingPattern(e){if(e.text.match(/^\d$/)||e.text.match(/^\d\d\d+$/)||e.text.match(/\d[apAP]$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)$/);if(t){const n=t[1];if(this.strictMode||n.includes(".")&&!n.match(/\d(\.\d{2})+$/)||parseInt(n)>24)return null}return e}checkAndReturnWithFollowingPattern(e){if(e.text.match(/^\d+-\d+$/))return null;const t=e.text.match(/[^\d:.](\d[\d.]+)\s*-\s*(\d[\d.]+)$/);if(t){if(this.strictMode)return null;const n=t[1],s=t[2];if(s.includes(".")&&!s.match(/\d(\.\d{2})+$/))return null;const i=parseInt(s),a=parseInt(n);if(i>24||a>24)return null}return e}getPrimaryTimePatternThroughCache(){const e=this.primaryPrefix(),t=this.primarySuffix();return this.cachedPrimaryPrefix===e&&this.cachedPrimarySuffix===t?this.cachedPrimaryTimePattern:(this.cachedPrimaryTimePattern=Mr(this.primaryPatternLeftBoundary(),e,t,this.patternFlags()),this.cachedPrimaryPrefix=e,this.cachedPrimarySuffix=t,this.cachedPrimaryTimePattern)}getFollowingTimePatternThroughCache(){const e=this.followingPhase(),t=this.followingSuffix();return this.cachedFollowingPhase===e&&this.cachedFollowingSuffix===t?this.cachedFollowingTimePatten:(this.cachedFollowingTimePatten=Sr(e,t),this.cachedFollowingPhase=e,this.cachedFollowingSuffix=t,this.cachedFollowingTimePatten)}}class br extends Cr{constructor(e){super(e)}followingPhase(){return"\\s*(?:\\-|\\–|\\~|\\〜|to|until|through|till|\\?)\\s*"}primaryPrefix(){return"(?:(?:at|from)\\s*)??"}primarySuffix(){return"(?:\\s*(?:o\\W*clock|at\\s*night|in\\s*the\\s*(?:morning|afternoon)))?(?!/)(?=\\W|$)"}extractPrimaryTimeComponents(e,t){const n=super.extractPrimaryTimeComponents(e,t);if(!n)return n;if(t[0].endsWith("night")){const s=n.get("hour");s>=6&&s<12?(n.assign("hour",n.get("hour")+12),n.assign("meridiem",O.PM)):s<6&&n.assign("meridiem",O.AM)}if(t[0].endsWith("afternoon")){n.assign("meridiem",O.PM);const s=n.get("hour");s>=0&&s<=6&&n.assign("hour",n.get("hour")+12)}return t[0].endsWith("morning")&&(n.assign("meridiem",O.AM),n.get("hour")<12&&n.assign("hour",n.get("hour"))),n.addTag("parser/ENTimeExpressionParser")}extractFollowingTimeComponents(e,t,n){const s=super.extractFollowingTimeComponents(e,t,n);return s&&s.addTag("parser/ENTimeExpressionParser"),s}}function Fe(r){const e={};for(const t in r)e[t]=-r[t];return e}function Ir(r,e){const t=r.clone();let n=r.dayjs();for(const s in e)n=n.add(e[s],s);return("day"in e||"d"in e||"week"in e||"month"in e||"year"in e)&&(t.imply("day",n.date()),t.imply("month",n.month()+1),t.imply("year",n.year())),("second"in e||"minute"in e||"hour"in e)&&(t.imply("second",n.second()),t.imply("minute",n.minute()),t.imply("hour",n.hour())),t}const Ur=new RegExp(`(${ve})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i"),Yr=new RegExp(`(${ke})\\s{0,5}(?:ago|before|earlier)(?=\\W|$)`,"i");class Wr extends q{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?Yr:Ur}innerExtract(e,t){const n=he(t[1]);if(!n)return null;const s=Fe(n);return N.createRelativeFromReference(e.reference,s)}}const kr=new RegExp(`(${ve})\\s{0,5}(?:later|after|from now|henceforth|forward|out)(?=(?:\\W|$))`,"i"),Fr=new RegExp(`(${ke})\\s{0,5}(later|after|from now)(?=\\W|$)`,"i"),zr=1;class Lr extends q{constructor(e){super(),this.strictMode=e}innerPattern(){return this.strictMode?Fr:kr}innerExtract(e,t){const n=he(t[zr]);return n?N.createRelativeFromReference(e.reference,n):null}}class rn{refine(e,t){return t.filter(n=>this.isValid(e,n))}}class we{refine(e,t){if(t.length<2)return t;const n=[];let s=t[0],i=null;for(let a=1;a<t.length;a++){i=t[a];const o=e.text.substring(s.index+s.text.length,i.index);if(!this.shouldMergeResults(o,s,i,e))n.push(s),s=i;else{const l=s,u=i,d=this.mergeResults(o,l,u,e);e.debug(()=>{console.log(`${this.constructor.name} merged ${l} and ${u} into ${d}`)}),s=d}}return s!=null&&n.push(s),n}}class Br extends we{shouldMergeResults(e,t,n){return!t.end&&!n.end&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){if(!t.start.isOnlyWeekdayComponent()&&!n.start.isOnlyWeekdayComponent()&&(n.start.getCertainComponents().forEach(i=>{t.start.isCertain(i)||t.start.imply(i,n.start.get(i))}),t.start.getCertainComponents().forEach(i=>{n.start.isCertain(i)||n.start.imply(i,t.start.get(i))})),t.start.date().getTime()>n.start.date().getTime()){let i=t.start.dayjs(),a=n.start.dayjs();n.start.isOnlyWeekdayComponent()&&a.add(7,"days").isAfter(i)?(a=a.add(7,"days"),n.start.imply("day",a.date()),n.start.imply("month",a.month()+1),n.start.imply("year",a.year())):t.start.isOnlyWeekdayComponent()&&i.add(-7,"days").isBefore(a)?(i=i.add(-7,"days"),t.start.imply("day",i.date()),t.start.imply("month",i.month()+1),t.start.imply("year",i.year())):n.start.isDateWithUnknownYear()&&a.add(1,"years").isAfter(i)?(a=a.add(1,"years"),n.start.imply("year",a.year())):t.start.isDateWithUnknownYear()&&i.add(-1,"years").isBefore(a)?(i=i.add(-1,"years"),t.start.imply("year",i.year())):[n,t]=[t,n]}const s=t.clone();return s.start=t.start,s.end=n.start,s.index=Math.min(t.index,n.index),t.index<n.index?s.text=t.text+e+n.text:s.text=n.text+e+t.text,s}}class Gr extends Br{patternBetween(){return/^\s*(to|-|–|until|through|till)\s*$/i}}function Rt(r,e){const t=r.clone(),n=r.start,s=e.start;if(t.start=Mt(n,s),r.end!=null||e.end!=null){const i=r.end==null?r.start:r.end,a=e.end==null?e.start:e.end,o=Mt(i,a);if(r.end==null&&o.date().getTime()<t.start.date().getTime()){const l=o.dayjs().add(1,"day");o.isCertain("day")?le(o,l):qt(o,l)}t.end=o}return t}function Mt(r,e){const t=r.clone();return e.isCertain("hour")?(t.assign("hour",e.get("hour")),t.assign("minute",e.get("minute")),e.isCertain("second")?(t.assign("second",e.get("second")),e.isCertain("millisecond")?t.assign("millisecond",e.get("millisecond")):t.imply("millisecond",e.get("millisecond"))):(t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond")))):(t.imply("hour",e.get("hour")),t.imply("minute",e.get("minute")),t.imply("second",e.get("second")),t.imply("millisecond",e.get("millisecond"))),e.isCertain("timezoneOffset")&&t.assign("timezoneOffset",e.get("timezoneOffset")),e.isCertain("meridiem")?t.assign("meridiem",e.get("meridiem")):e.get("meridiem")!=null&&t.get("meridiem")==null&&t.imply("meridiem",e.get("meridiem")),t.get("meridiem")==O.PM&&t.get("hour")<12&&(e.isCertain("hour")?t.assign("hour",t.get("hour")+12):t.imply("hour",t.get("hour")+12)),t.addTags(r.tags()),t.addTags(e.tags()),t}class Hr extends we{shouldMergeResults(e,t,n){return(t.start.isOnlyDate()&&n.start.isOnlyTime()||n.start.isOnlyDate()&&t.start.isOnlyTime())&&e.match(this.patternBetween())!=null}mergeResults(e,t,n){const s=t.start.isOnlyDate()?Rt(t,n):Rt(n,t);return s.index=t.index,s.text=t.text+e+n.text,s}}class St extends Hr{patternBetween(){return new RegExp("^\\s*(T|at|after|before|on|of|,|-|\\.|∙|:)?\\s*$")}}const Vr=new RegExp("^\\s*,?\\s*\\(?([A-Z]{2,4})\\)?(?=\\W|$)","i");class jr{constructor(e){this.timezoneOverrides=e}refine(e,t){const n=e.option.timezones??{};return t.forEach(s=>{const i=e.text.substring(s.index+s.text.length),a=Vr.exec(i);if(!a)return;const o=a[1].toUpperCase(),l=s.start.date()??s.refDate??new Date,u={...this.timezoneOverrides,...n},d=Zt(o,l,u);if(d==null)return;e.debug(()=>{console.log(`Extracting timezone: '${o}' into: ${d} for: ${s.start}`)});const T=s.start.get("timezoneOffset");T!==null&&d!=T&&(s.start.isCertain("timezoneOffset")||o!=a[1])||s.start.isOnlyDate()&&o!=a[1]||(s.text+=a[0],s.start.isCertain("timezoneOffset")||s.start.assign("timezoneOffset",d),s.end!=null&&!s.end.isCertain("timezoneOffset")&&s.end.assign("timezoneOffset",d))}),t}}const qr=new RegExp("^\\s*(?:\\(?(?:GMT|UTC)\\s?)?([+-])(\\d{1,2})(?::?(\\d{2}))?\\)?","i"),Zr=1,Kr=2,Xr=3;class Jr{refine(e,t){return t.forEach(function(n){if(n.start.isCertain("timezoneOffset"))return;const s=e.text.substring(n.index+n.text.length),i=qr.exec(s);if(!i)return;e.debug(()=>{console.log(`Extracting timezone: '${i[0]}' into : ${n}`)});const a=parseInt(i[Kr]),o=parseInt(i[Xr]||"0");let l=a*60+o;l>14*60||(i[Zr]==="-"&&(l=-l),n.end!=null&&n.end.assign("timezoneOffset",l),n.start.assign("timezoneOffset",l),n.text+=i[0])}),t}}class tt{refine(e,t){if(t.length<2)return t;const n=[];let s=t[0];for(let i=1;i<t.length;i++){const a=t[i];if(a.index>=s.index+s.text.length){n.push(s),s=a;continue}let o=null,l=null;a.text.length>s.text.length?(o=a,l=s):(o=s,l=a),e.debug(()=>{console.log(`${this.constructor.name} remove ${l} by ${o}`)}),s=o}return s!=null&&n.push(s),n}}function Ze(r,e){r.imply("day",e.getDate()),r.imply("month",e.getMonth()+1),r.imply("year",e.getFullYear())}class Qr{refine(e,t){return e.option.forwardDate&&t.forEach(n=>{let s=j(e.reference.getDateWithAdjustedTimezone());if(n.start.isOnlyTime()&&e.reference.instant>n.start.date()){const i=e.reference.getDateWithAdjustedTimezone(),a=new Date(i);a.setDate(a.getDate()+1),Ze(n.start,a),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} time from the ref date (${i}) to the following day (${a})`)}),n.end&&n.end.isOnlyTime()&&(Ze(n.end,a),n.start.date()>n.end.date()&&(a.setDate(a.getDate()+1),Ze(n.end,a)))}if(n.start.isOnlyWeekdayComponent()&&s.isAfter(n.start.dayjs())&&(s.day()>=n.start.get("weekday")?s=s.day(n.start.get("weekday")+7):s=s.day(n.start.get("weekday")),n.start.imply("day",s.date()),n.start.imply("month",s.month()+1),n.start.imply("year",s.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.start})`)}),n.end&&n.end.isOnlyWeekdayComponent()&&(s.day()>n.end.get("weekday")?s=s.day(n.end.get("weekday")+7):s=s.day(n.end.get("weekday")),n.end.imply("day",s.date()),n.end.imply("month",s.month()+1),n.end.imply("year",s.year()),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} weekday (${n.end})`)}))),n.start.isDateWithUnknownYear()&&s.isAfter(n.start.dayjs()))for(let i=0;i<3&&s.isAfter(n.start.dayjs());i++)n.start.imply("year",n.start.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} year (${n.start})`)}),n.end&&!n.end.isCertain("year")&&(n.end.imply("year",n.end.get("year")+1),e.debug(()=>{console.log(`${this.constructor.name} adjusted ${n} month (${n.start})`)}))}),t}}class es extends rn{constructor(e){super(),this.strictMode=e}isValid(e,t){return t.text.replace(" ","").match(/^\d*(\.\d*)?$/)?(e.debug(()=>{console.log(`Removing unlikely result '${t.text}'`)}),!1):t.start.isValidDate()?t.end&&!t.end.isValidDate()?(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.end})`)}),!1):this.strictMode?this.isStrictModeValid(e,t):!0:(e.debug(()=>{console.log(`Removing invalid result: ${t} (${t.start})`)}),!1)}isStrictModeValid(e,t){return t.start.isOnlyWeekdayComponent()?(e.debug(()=>{console.log(`(Strict) Removing weekday only component: ${t} (${t.end})`)}),!1):t.start.isOnlyTime()&&(!t.start.isCertain("hour")||!t.start.isCertain("minute"))?(e.debug(()=>{console.log(`(Strict) Removing uncertain time component: ${t} (${t.end})`)}),!1):!0}}const ts=new RegExp("([0-9]{4})\\-([0-9]{1,2})\\-([0-9]{1,2})(?:T([0-9]{1,2}):([0-9]{1,2})(?::([0-9]{1,2})(?:\\.(\\d{1,4}))?)?(Z|([+-]\\d{2}):?(\\d{2})?)?)?(?=\\W|$)","i"),ns=1,rs=2,ss=3,Ct=4,is=5,bt=6,It=7,as=8,Ut=9,Yt=10;class os extends q{innerPattern(){return ts}innerExtract(e,t){const n=e.createParsingComponents({year:parseInt(t[ns]),month:parseInt(t[rs]),day:parseInt(t[ss])});if(t[Ct]!=null&&(n.assign("hour",parseInt(t[Ct])),n.assign("minute",parseInt(t[is])),t[bt]!=null&&n.assign("second",parseInt(t[bt])),t[It]!=null&&n.assign("millisecond",parseInt(t[It])),t[as]!=null)){let s=0;if(t[Ut]){const i=parseInt(t[Ut]);let a=0;t[Yt]!=null&&(a=parseInt(t[Yt])),s=i*60,s<0?s-=a:s+=a}n.assign("timezoneOffset",s)}return n.addTag("parser/ISOFormatParser")}}class ls extends we{mergeResults(e,t,n){const s=n.clone();return s.index=t.index,s.text=t.text+e+s.text,s.start.assign("weekday",t.start.get("weekday")),s.end&&s.end.assign("weekday",t.start.get("weekday")),s}shouldMergeResults(e,t,n){return t.start.isOnlyWeekdayComponent()&&!t.start.isCertain("hour")&&n.start.isCertain("day")&&e.match(/^,?\s*$/)!=null}}function us(r,e=!1){return r.parsers.unshift(new os),r.refiners.unshift(new ls),r.refiners.unshift(new Jr),r.refiners.unshift(new tt),r.refiners.push(new jr),r.refiners.push(new tt),r.refiners.push(new Qr),r.refiners.push(new es(e)),r}function ds(r){const e=j(r.getDateWithAdjustedTimezone()),t=new N(r,{});return le(t,e),jt(t,e),t.assign("timezoneOffset",r.getTimezoneOffset()),t.addTag("casualReference/now"),t}function fs(r){const e=j(r.getDateWithAdjustedTimezone()),t=new N(r,{});return le(t,e),be(t,e),t.addTag("casualReference/today"),t}function cs(r){return hs(r).addTag("casualReference/yesterday")}function hs(r,e){return at(r,-1)}function ms(r){return at(r,1).addTag("casualReference/tomorrow")}function at(r,e){let t=j(r.getDateWithAdjustedTimezone());const n=new N(r,{});return t=t.add(e,"day"),le(n,t),be(n,t),n}function gs(r,e=22){const t=j(r.getDateWithAdjustedTimezone()),n=new N(r,{});return le(n,t),n.imply("hour",e),n.imply("meridiem",O.PM),n.addTag("casualReference/tonight"),n}function Ts(r,e=20){const t=new N(r,{});return t.imply("meridiem",O.PM),t.imply("hour",e),t.addTag("casualReference/evening"),t}function ys(r){const e=new N(r,{}),t=j(r.getDateWithAdjustedTimezone());return t.hour()>2&&nr(e,t),e.assign("hour",0),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/midnight"),e}function ps(r,e=6){const t=new N(r,{});return t.imply("meridiem",O.AM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/morning"),t}function vs(r,e=15){const t=new N(r,{});return t.imply("meridiem",O.PM),t.imply("hour",e),t.imply("minute",0),t.imply("second",0),t.imply("millisecond",0),t.addTag("casualReference/afternoon"),t}function ws(r){const e=new N(r,{});return e.imply("meridiem",O.AM),e.imply("hour",12),e.imply("minute",0),e.imply("second",0),e.imply("millisecond",0),e.addTag("casualReference/noon"),e}const Es=/(now|today|tonight|tomorrow|overmorrow|tmr|tmrw|yesterday|last\s*night)(?=\W|$)/i;class As extends q{innerPattern(e){return Es}innerExtract(e,t){let n=j(e.refDate);const s=t[0].toLowerCase();let i=e.createParsingComponents();switch(s){case"now":i=ds(e.reference);break;case"today":i=fs(e.reference);break;case"yesterday":i=cs(e.reference);break;case"tomorrow":case"tmr":case"tmrw":i=ms(e.reference);break;case"tonight":i=gs(e.reference);break;case"overmorrow":i=at(e.reference,2);break;default:s.match(/last\s*night/)&&(n.hour()>6&&(n=n.add(-1,"day")),le(i,n),i.imply("hour",0));break}return i.addTag("parser/ENCasualDateParser"),i}}const $s=/(?:this)?\s{0,3}(morning|afternoon|evening|night|midnight|midday|noon)(?=\W|$)/i;class _s extends q{innerPattern(){return $s}innerExtract(e,t){let n=null;switch(t[1].toLowerCase()){case"afternoon":n=vs(e.reference);break;case"evening":case"night":n=Ts(e.reference);break;case"midnight":n=ys(e.reference);break;case"morning":n=ps(e.reference);break;case"noon":case"midday":n=ws(e.reference);break}return n&&n.addTag("parser/ENCasualTimeParser"),n}}function Ds(r,e,t){const n=r.getDateWithAdjustedTimezone(),s=Ps(n,e,t);let i=new N(r);return i=Ir(i,{day:s}),i.assign("weekday",e),i}function Ps(r,e,t){const n=r.getDay();switch(t){case"this":return Oe(r,e);case"last":return sn(r,e);case"next":return n==R.SUNDAY?e==R.SUNDAY?7:e:n==R.SATURDAY?e==R.SATURDAY?7:e==R.SUNDAY?8:1+e:e<n&&e!=R.SUNDAY?Oe(r,e):Oe(r,e)+7}return Os(r,e)}function Os(r,e){const t=sn(r,e),n=Oe(r,e);return n<-t?n:t}function Oe(r,e){const t=r.getDay();let n=e-t;return n<0&&(n+=7),n}function sn(r,e){const t=r.getDay();let n=e-t;return n>=0&&(n-=7),n}const xs=new RegExp(`(?:(?:\\,|\\(|\\（)\\s*)?(?:on\\s*?)?(?:(this|last|past|next)\\s*)?(${ee(Je)}|weekend|weekday)(?:\\s*(?:\\,|\\)|\\）))?(?:\\s*(this|last|past|next)\\s*week)?(?=\\W|$)`,"i"),Ns=1,Rs=2,Ms=3;class Ss extends q{innerPattern(){return xs}innerExtract(e,t){const n=t[Ns],s=t[Ms];let i=n||s;i=i||"",i=i.toLowerCase();let a=null;i=="last"||i=="past"?a="last":i=="next"?a="next":i=="this"&&(a="this");const o=t[Rs].toLowerCase();let l;if(Je[o]!==void 0)l=Je[o];else if(o=="weekend")l=a=="last"?R.SUNDAY:R.SATURDAY;else if(o=="weekday"){const u=e.reference.getDateWithAdjustedTimezone().getDay();u==R.SUNDAY||u==R.SATURDAY?l=a=="last"?R.FRIDAY:R.MONDAY:(l=u-1,l=a=="last"?l-1:l+1,l=l%5+1)}else return null;return Ds(e.reference,l,a)}}const Cs=new RegExp(`(this|last|past|next|after\\s*this)\\s*(${ee(Ue)})(?=\\s*)(?=\\W|$)`,"i"),bs=1,Is=2;class Us extends q{innerPattern(){return Cs}innerExtract(e,t){const n=t[bs].toLowerCase(),s=t[Is].toLowerCase(),i=Ue[s];if(n=="next"||n.startsWith("after")){const l={};return l[i]=1,N.createRelativeFromReference(e.reference,l)}if(n=="last"||n=="past"){const l={};return l[i]=-1,N.createRelativeFromReference(e.reference,l)}const a=e.createParsingComponents();let o=j(e.reference.instant);return s.match(/week/i)?(o=o.add(-o.get("d"),"d"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.imply("year",o.year())):s.match(/month/i)?(o=o.add(-o.date()+1,"d"),a.imply("day",o.date()),a.assign("year",o.year()),a.assign("month",o.month()+1)):s.match(/year/i)&&(o=o.add(-o.date()+1,"d"),o=o.add(-o.month(),"month"),a.imply("day",o.date()),a.imply("month",o.month()+1),a.assign("year",o.year())),a}}const Ys=new RegExp("([^\\d]|^)([0-3]{0,1}[0-9]{1})[\\/\\.\\-]([0-3]{0,1}[0-9]{1})(?:[\\/\\.\\-]([0-9]{4}|[0-9]{2}))?(\\W|$)","i"),Ws=1,ks=5,Wt=2,kt=3,Ke=4;class Fs{constructor(e){this.groupNumberMonth=e?kt:Wt,this.groupNumberDay=e?Wt:kt}pattern(){return Ys}extract(e,t){const n=t.index+t[Ws].length,s=t.index+t[0].length-t[ks].length;if(n>0&&e.text.substring(0,n).match("\\d/?$")||s<e.text.length&&e.text.substring(s).match("^/?\\d"))return;const i=e.text.substring(n,s);if(i.match(/^\d\.\d$/)||i.match(/^\d\.\d{1,2}\.\d{1,2}\s*$/)||!t[Ke]&&i.indexOf("/")<0)return;const a=e.createParsingResult(n,i);let o=parseInt(t[this.groupNumberMonth]),l=parseInt(t[this.groupNumberDay]);if((o<1||o>12)&&o>12)if(l>=1&&l<=12&&o<=31)[l,o]=[o,l];else return null;if(l<1||l>31)return null;if(a.start.assign("day",l),a.start.assign("month",o),t[Ke]){const u=parseInt(t[Ke]),d=Xt(u);a.start.assign("year",d)}else{const u=Ie(e.refDate,l,o);a.start.imply("year",u)}return a.addTag("parser/SlashDateFormatParser")}}const zs=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${ve})(?=\\W|$)`,"i"),Ls=new RegExp(`(this|last|past|next|after|\\+|-)\\s*(${ke})(?=\\W|$)`,"i");class Bs extends q{constructor(e=!0){super(),this.allowAbbreviations=e}innerPattern(){return this.allowAbbreviations?zs:Ls}innerExtract(e,t){const n=t[1].toLowerCase();let s=he(t[2]);if(!s)return null;switch(n){case"last":case"past":case"-":s=Fe(s);break}return N.createRelativeFromReference(e.reference,s)}}function Gs(r){return r.text.match(/^[+-]/i)!=null}function Ft(r){return r.text.match(/^-/i)!=null}class Hs extends we{shouldMergeResults(e,t,n){return e.match(/^\s*$/i)?Gs(n)||Ft(n):!1}mergeResults(e,t,n,s){let i=he(n.text);Ft(n)&&(i=Fe(i));const a=N.createRelativeFromReference(new it(t.start.date()),i);return new ce(t.reference,t.index,`${t.text}${e}${n.text}`,a)}}function zt(r){return r.text.match(/\s+(before|from)$/i)!=null}function Vs(r){return r.text.match(/\s+(after|since)$/i)!=null}class js extends we{patternBetween(){return/^\s*$/i}shouldMergeResults(e,t,n){return!e.match(this.patternBetween())||!zt(t)&&!Vs(t)?!1:!!n.start.get("day")&&!!n.start.get("month")&&!!n.start.get("year")}mergeResults(e,t,n){let s=he(t.text);zt(t)&&(s=Fe(s));const i=N.createRelativeFromReference(new it(n.start.date()),s);return new ce(n.reference,t.index,`${t.text}${e}${n.text}`,i)}}const qs=new RegExp(`^\\s*(${Ye})`,"i"),Zs=1;class Ks{refine(e,t){return t.forEach(function(n){if(!n.start.isDateWithUnknownYear())return;const s=e.text.substring(n.index+n.text.length),i=qs.exec(s);if(!i)return;e.debug(()=>{console.log(`Extracting year: '${i[0]}' into : ${n}`)});const a=We(i[Zs]);n.end!=null&&n.end.assign("year",a),n.start.assign("year",a),n.text+=i[0]}),t}}class Xs extends rn{constructor(){super()}isValid(e,t){const n=t.text.trim();return n===e.text.trim()?!0:n.toLowerCase()==="may"&&!e.text.substring(0,t.index).trim().match(/\b(in)$/i)?(e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):n.toLowerCase().endsWith("the second")?(e.text.substring(t.index+t.text.length).trim().length>0&&e.debug(()=>{console.log(`Removing unlikely result: ${t}`)}),!1):!0}}class an{createCasualConfiguration(e=!1){const t=this.createConfiguration(!1,e);return t.parsers.push(new As),t.parsers.push(new _s),t.parsers.push(new Er),t.parsers.push(new Us),t.parsers.push(new Bs),t.refiners.push(new Xs),t}createConfiguration(e=!0,t=!1){const n=us({parsers:[new Fs(t),new fr(e),new mr,new yr(t),new Ss,new Rr,new br(e),new Wr(e),new Lr(e)],refiners:[new St]},e);return n.parsers.unshift(new Pr(e)),n.refiners.unshift(new js),n.refiners.unshift(new Hs),n.refiners.unshift(new tt),n.refiners.push(new St),n.refiners.push(new Ks),n.refiners.push(new Gr),n}}class fe{constructor(e){this.defaultConfig=new an,e=e||this.defaultConfig.createCasualConfiguration(),this.parsers=[...e.parsers],this.refiners=[...e.refiners]}clone(){return new fe({parsers:[...this.parsers],refiners:[...this.refiners]})}parseDate(e,t,n){const s=this.parse(e,t,n);return s.length>0?s[0].start.date():null}parse(e,t,n){const s=new Js(e,t,n);let i=[];return this.parsers.forEach(a=>{const o=fe.executeParser(s,a);i=i.concat(o)}),i.sort((a,o)=>a.index-o.index),this.refiners.forEach(function(a){i=a.refine(s,i)}),i}static executeParser(e,t){const n=[],s=t.pattern(e),i=e.text;let a=e.text,o=s.exec(a);for(;o;){const l=o.index+i.length-a.length;o.index=l;const u=t.extract(e,o);if(!u){a=i.substring(o.index+1),o=s.exec(a);continue}let d=null;u instanceof ce?d=u:u instanceof N?(d=e.createParsingResult(o.index,o[0]),d.start=u):d=e.createParsingResult(o.index,o[0],u);const T=d.index,g=d.text;e.debug(()=>console.log(`${t.constructor.name} extracted (at index=${T}) '${g}'`)),n.push(d),a=i.substring(T+g.length),o=s.exec(a)}return n}}class Js{constructor(e,t,n){this.text=e,this.reference=new it(t),this.option=n??{},this.refDate=this.reference.instant}createParsingComponents(e){return e instanceof N?e:new N(this.reference,e)}createParsingResult(e,t,n,s){const i=typeof t=="string"?t:this.text.substring(e,t),a=n?this.createParsingComponents(n):null,o=s?this.createParsingComponents(s):null;return new ce(this.reference,e,i,a,o)}debug(e){this.option.debug&&(this.option.debug instanceof Function?this.option.debug(e):this.option.debug.debug(e))}}const ot=new an,Qs=new fe(ot.createCasualConfiguration(!1));new fe(ot.createConfiguration(!0,!1));new fe(ot.createCasualConfiguration(!0));const ei=Qs;function ti(r,e,t){return ei.parseDate(r,e,t)}var Xe={local:{},session:{}};function ni(r){return r==="local"?localStorage:sessionStorage}function ri(r,e,t){var n,s,i,a,o,l,u,d;t!=null&&t.onError&&console.warn("onError has been deprecated. Please use onWriteError instead");const T=(n=t==null?void 0:t.serializer)!=null?n:JSON,g=(s=t==null?void 0:t.storage)!=null?s:"local",w=(i=t==null?void 0:t.syncTabs)!=null?i:!0,v=(o=(a=t==null?void 0:t.onWriteError)!=null?a:t==null?void 0:t.onError)!=null?o:D=>console.error(`Error when writing value from persisted store "${r}" to ${g}`,D),F=(l=t==null?void 0:t.onParseError)!=null?l:(D,C)=>console.error(`Error when parsing ${D?'"'+D+'"':"value"} from persisted store "${r}"`,C),I=(u=t==null?void 0:t.beforeRead)!=null?u:D=>D,_=(d=t==null?void 0:t.beforeWrite)!=null?d:D=>D,M=typeof window<"u"&&typeof document<"u",U=M?ni(g):null;function z(D,C){const Y=_(C);try{U==null||U.setItem(D,T.stringify(Y))}catch(H){v(H)}}function S(){function D(p){try{return T.parse(p)}catch(E){F(p,E)}}const C=U==null?void 0:U.getItem(r);if(C==null)return e;const Y=D(C);return Y==null?e:I(Y)}if(!Xe[g][r]){const D=S(),C=Yn(D,p=>{if(M&&g=="local"&&w){const E=Z=>{if(Z.key===r&&Z.newValue){let me;try{me=T.parse(Z.newValue)}catch(c){F(Z.newValue,c);return}const y=I(me);p(y)}};return window.addEventListener("storage",E),()=>window.removeEventListener("storage",E)}}),{subscribe:Y,set:H}=C;Xe[g][r]={set(p){H(p),z(r,p)},update(p){return C.update(E=>{const Z=p(E);return z(r,Z),Z})},reset(){this.set(e)},subscribe:Y}}return Xe[g][r]}const lt=Wn(new Date,r=>{const e=setInterval(()=>r(new Date),1e3);return()=>clearInterval(e)}),ze=ri("items",[],{syncTabs:!0,storage:"local"}),si=r=>kn(r),on=(r,e)=>ti(r,e);function ln(r,e){const t=r.getTime()-e.getTime();let n=Math.floor(t/1e3);const s=Math.floor(n/60);n%=60;const i=Math.floor(s/60),a=s%60,o=Math.floor(i/24),l=i%24,u=Math.floor(o/7),d=o%7,T=Math.floor(o/30),g=u%4,w=Math.floor(o/365),v=[];return w>0&&v.push(`${w}y`),T>0&&v.push(`${T}mo`),g>0&&v.push(`${g}w`),d>0&&v.push(`${d}d`),l>0&&v.push(`${l}h`),a>0&&v.push(`${a}m`),n>0&&v.push(`${n}s`),v.join(", ")}function ii(){let r=crypto.randomUUID();for(;si(ze).some(e=>e.id===r);)r=crypto.randomUUID();return r}const ai=r=>ze.update(e=>[{id:ii(),...r},...e].toSorted((t,n)=>n.created_at-t.created_at)),oi=r=>ze.update(e=>e.filter(t=>t.id!==r));var li=Re('<div class="add_view svelte-llu4le"><div class="instruction svelte-llu4le">Enter the time you want to count down from, even in plain english.</div> <div> </div> <div class="input_time svelte-llu4le"> </div> <form class="svelte-llu4le"><input type="text" placeholder="Title" required class="svelte-llu4le"> <input type="text" placeholder="1 hour later" required class="svelte-llu4le"> <button type="submit">Create</button></form></div>');function ui(r,e){nt(e,!0);const[t,n]=Se(),s=()=>Ce(lt,"$current_time",t);let i=ct(""),a=ct(""),o=Q(()=>P(a)?new Date:null),l=Q(()=>P(a).length?on(P(a),P(o)??void 0):null),u=Q(()=>P(l)?ln(P(l),s()):null);const d=Q(()=>w(P(a),P(u))),T=Q(()=>v(P(a),P(u)));let g=Q(()=>P(u)&&P(i).length>0);function w(p,E){return p?E||"Invalid time":"..."}function v(p,E){return p?E?"valid":"invalid":""}function F(p){p.preventDefault(),!(!P(a).length||!P(i).length||!P(o))&&P(u)&&(ai({title:P(i),text:P(a),created_at:+P(o)}),Ae(i,""),Ae(a,""))}var I=li(),_=G(L(I),2),M=L(_,!0);k(_);var U=G(_,2),z=L(U,!0);k(U);var S=G(U,2),D=L(S);Tt(D);var C=G(D,2);Tt(C);var Y=G(C,2);let H;k(S),k(I),rt((p,E)=>{gt(_,1,`preview style-${P(T)??""}`,"svelte-llu4le"),se(M,P(d)),se(z,p),H=gt(Y,1,"button link hover",null,H,E),Y.disabled=!P(g)},[()=>{var p;return(p=P(o))==null?void 0:p.toLocaleString()},()=>({hover:P(g)})]),fn("submit",S,F),pt(D,()=>P(i),p=>Ae(i,p)),pt(C,()=>P(a),p=>Ae(a,p)),Me(r,I),st(),n()}var di=Re('<div class="current_time_view svelte-sqhux5"><div class="title svelte-sqhux5"><i class="f7-icons svelte-sqhux5">clock</i> <span>Current Time</span></div> <div class="time svelte-sqhux5"> </div> <div class="date svelte-sqhux5"> </div></div>');function fi(r,e){nt(e,!0);const[t,n]=Se(),s=()=>Ce(lt,"$current_time",t),i=Q(()=>Intl.DateTimeFormat("en",{hour:"numeric",minute:"2-digit",second:"2-digit",timeZoneName:"short"}).format(s())),a=Q(()=>Intl.DateTimeFormat("en",{dateStyle:"full"}).format(s()));var o=di(),l=G(L(o),2),u=L(l,!0);k(l);var d=G(l,2),T=L(d,!0);k(d),k(o),rt(()=>{se(u,P(i)),se(T,P(a))}),Me(r,o),st(),n()}function ci(r,e){confirm("Are you sure you want to remove this item?")&&oi(e.item.id)}var hi=Re('<div class="item svelte-1sscchg"><div class="meta svelte-1sscchg"><div class="text svelte-1sscchg"> </div> <div class="created_at svelte-1sscchg"><i class="f7-icons svelte-1sscchg">clock</i> <span> </span></div></div> <div class="remove link hover svelte-1sscchg"><i class="f7-icons svelte-1sscchg">trash</i></div> <div class="info svelte-1sscchg"><div class="title svelte-1sscchg"> </div> <div class="time svelte-1sscchg"><i class="f7-icons">timer</i> <span> </span></div></div></div>');function mi(r,e){nt(e,!0);const[t,n]=Se(),s=()=>Ce(lt,"$current_time",t);let i=Q(()=>on(e.item.text,new Date(e.item.created_at)));const a=Q(()=>o(P(i),s()));function o(D,C){if(!D)return"Invalid time";let Y=ln(D,C);return Y.length?Y:"Complete!"}var l=hi(),u=L(l),d=L(u),T=L(d);k(d);var g=G(d,2),w=G(L(g),2),v=L(w,!0);k(w),k(g),k(u);var F=G(u,2);F.__click=[ci,e];var I=G(F,2),_=L(I),M=L(_,!0);k(_);var U=G(_,2),z=G(L(U),2),S=L(z,!0);k(z),k(U),k(I),k(l),rt(D=>{se(T,`"${e.item.text??""}"`),se(v,D),se(M,e.item.title),se(S,P(a))},[()=>new Date(e.item.created_at).toLocaleString()]),Me(r,l),st(),n()}cn(["click"]);var gi=Re('<main class="svelte-1yjcjnp"><!> <!> <div class="list svelte-1yjcjnp"></div></main>');function wi(r){const[e,t]=Se(),n=()=>Ce(ze,"$items",e);var s=gi(),i=L(s);fi(i,{});var a=G(i,2);ui(a,{});var o=G(a,2);Ln(o,5,n,Fn,(l,u)=>{mi(l,{get item(){return P(u)}})}),k(o),k(s),Me(r,s),t()}export{wi as component};
